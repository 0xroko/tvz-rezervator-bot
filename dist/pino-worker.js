"use strict";var S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Un=S((Gg,Fn)=>{"use strict";var Ue=e=>e&&typeof e.message=="string",Yt=e=>{if(!e)return;let t=e.cause;if(typeof t=="function"){let r=e.cause();return Ue(r)?r:void 0}else return Ue(t)?t:void 0},Wn=(e,t)=>{if(!Ue(e))return"";let r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;let n=Yt(e);return n?(t.add(e),r+`
caused by: `+Wn(n,t)):r},Wu=e=>Wn(e,new Set),Bn=(e,t,r)=>{if(!Ue(e))return"";let n=r?"":e.message||"";if(t.has(e))return n+": ...";let i=Yt(e);if(i){t.add(e);let o=typeof e.cause=="function";return n+(o?"":": ")+Bn(i,t,o)}else return n},Bu=e=>Bn(e,new Set);Fn.exports={isErrorLike:Ue,getErrorCause:Yt,stackWithCauses:Wu,messageWithCauses:Bu}});var Hn=S((Hg,Gn)=>{"use strict";Gn.exports=er;var{messageWithCauses:Fu,stackWithCauses:Uu,isErrorLike:Vn}=Un(),{toString:Vu}=Object.prototype,Qt=Symbol("circular-ref-tag"),Zt=Symbol("pino-raw-err-ref"),zn=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Zt]},set:function(e){this[Zt]=e}}});Object.defineProperty(zn,Zt,{writable:!0,value:{}});function er(e){if(!Vn(e))return e;e[Qt]=void 0;let t=Object.create(zn);t.type=Vu.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=Fu(e),t.stack=Uu(e),Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>er(r)));for(let r in e)if(t[r]===void 0){let n=e[r];Vn(n)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(n,Qt)&&(t[r]=er(n)):t[r]=n}return delete e[Qt],t.raw=e,t}});var Yn=S((Kg,Xn)=>{"use strict";Xn.exports={mapHttpRequest:zu,reqSerializer:Jn};var tr=Symbol("pino-raw-req-ref"),Kn=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[tr]},set:function(e){this[tr]=e}}});Object.defineProperty(Kn,tr,{writable:!0,value:{}});function Jn(e){let t=e.info||e.socket,r=Object.create(Kn);if(r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl)r.url=e.originalUrl;else{let n=e.path;r.url=typeof n=="string"?n:e.url?e.url.path||e.url:void 0}return e.query&&(r.query=e.query),e.params&&(r.params=e.params),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function zu(e){return{req:Jn(e)}}});var ti=S((Jg,ei)=>{"use strict";ei.exports={mapHttpResponse:Gu,resSerializer:Zn};var rr=Symbol("pino-raw-res-ref"),Qn=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[rr]},set:function(e){this[rr]=e}}});Object.defineProperty(Qn,rr,{writable:!0,value:{}});function Zn(e){let t=Object.create(Qn);return t.statusCode=e.headersSent?e.statusCode:null,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function Gu(e){return{res:Zn(e)}}});var ir=S((Xg,ri)=>{"use strict";var nr=Hn(),it=Yn(),ot=ti();ri.exports={err:nr,mapHttpRequest:it.mapHttpRequest,mapHttpResponse:ot.mapHttpResponse,req:it.reqSerializer,res:ot.resSerializer,wrapErrorSerializer:function(t){return t===nr?t:function(n){return t(nr(n))}},wrapRequestSerializer:function(t){return t===it.reqSerializer?t:function(n){return t(it.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===ot.resSerializer?t:function(n){return t(ot.resSerializer(n))}}}});var or=S((Yg,ni)=>{"use strict";function Hu(e,t){return t}ni.exports=function(){let t=Error.prepareStackTrace;Error.prepareStackTrace=Hu;let r=new Error().stack;if(Error.prepareStackTrace=t,!Array.isArray(r))return;let n=r.slice(2),i=[];for(let o of n)o&&i.push(o.getFileName());return i}});var oi=S((Qg,ii)=>{"use strict";var{createContext:Ku,runInContext:Ju}=require("vm");ii.exports=Xu;function Xu(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=e;return function({paths:i}){i.forEach(o=>{if(typeof o!="string")throw Error(t());try{if(/ã€‡/.test(o))throw Error();let s=new Proxy({},{get:()=>s,set:()=>{throw Error()}}),u=(o[0]==="["?"":".")+o.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(u)||/\/\*/.test(u))throw Error();Ju(`
          (function () {
            'use strict'
            o${u}
            if ([o${u}].length !== 1) throw Error()
          })()
        `,Ku({o:s,"\u3007":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch{throw Error(r(o))}})}}});var st=S((Zg,si)=>{"use strict";si.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var ui=S((ew,li)=>{"use strict";var Yu=st();li.exports=Qu;function Qu({paths:e}){let t=[];var r=0;let n=e.reduce(function(i,o,s){var u=o.match(Yu).map(c=>c.replace(/'|"|`/g,""));let a=o[0]==="[";u=u.map(c=>c[0]==="["?c.substr(1,c.length-2):c);let f=u.indexOf("*");if(f>-1){let c=u.slice(0,f),d=c.join("."),p=u.slice(f+1,u.length),l=p.length>0;r++,t.push({before:c,beforeStr:d,after:p,nested:l})}else i[o]={path:u,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(o),leadingBracket:a};return i},{});return{wildcards:t,wcLen:r,secret:n}}});var ai=S((tw,fi)=>{"use strict";var Zu=st();fi.exports=ef;function ef({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i,censorFctTakesPath:o},s){let u=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${of(n,t)}
    }
    const { censor, secret } = this
    ${tf(e,i,o)}
    this.compileRestore()
    ${rf(r>0,i,o)}
    ${nf(t)}
  `).bind(s);return t===!1&&(u.restore=a=>s.restore(a)),u}function tf(e,t,r){return Object.keys(e).map(n=>{let{escPath:i,leadingBracket:o,path:s}=e[n],u=o?1:0,a=o?"":".",f=[];for(var c;(c=Zu.exec(n))!==null;){let[,h]=c,{index:w,input:m}=c;w>u&&f.push(m.substring(0,w-(h?0:1)))}var d=f.map(h=>`o${a}${h}`).join(" && ");d.length===0?d+=`o${a}${n} != null`:d+=` && o${a}${n} != null`;let p=`
      switch (true) {
        ${f.reverse().map(h=>`
          case o${a}${h} === censor:
            secret[${i}].circle = ${JSON.stringify(h)}
            break
        `).join(`
`)}
      }
    `,l=r?`val, ${JSON.stringify(s)}`:"val";return`
      if (${d}) {
        const val = o${a}${n}
        if (val === censor) {
          secret[${i}].precensored = true
        } else {
          secret[${i}].val = val
          o${a}${n} = ${t?`censor(${l})`:"censor"}
          ${p}
        }
      }
    `}).join(`
`)}function rf(e,t,r){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t}, ${r})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t}, ${r})
      }
    }
  `:""}function nf(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function of(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var sr=S((rw,di)=>{"use strict";di.exports={groupRedact:lf,groupRestore:sf,nestedRedact:ff,nestedRestore:uf};function sf({keys:e,values:t,target:r}){if(r==null)return;let n=e.length;for(var i=0;i<n;i++){let o=e[i];r[o]=t[i]}}function lf(e,t,r,n,i){let o=ci(e,t);if(o==null)return{keys:null,values:null,target:null,flat:!0};let s=Object.keys(o),u=s.length,a=t.length,f=i?[...t]:void 0,c=new Array(u);for(var d=0;d<u;d++){let p=s[d];c[d]=o[p],i?(f[a]=p,o[p]=r(o[p],f)):n?o[p]=r(o[p]):o[p]=r}return{keys:s,values:c,target:o,flat:!0}}function uf(e){let t=e.length;for(var r=0;r<t;r++){let{key:i,target:o,value:s}=e[r];if(lt(o,i)&&(o[i]=s),typeof o=="object"){let u=Object.keys(o);for(var n=0;n<u.length;n++){let a=u[n],f=o[a];lt(f,i)&&(f[i]=s)}}}}function ff(e,t,r,n,i,o,s){let u=ci(t,r);if(u==null)return;let a=Object.keys(u),f=a.length;for(var c=0;c<f;c++){let d=a[c],{value:p,parent:l,exists:h}=af(u,d,r,n,i,o,s);h===!0&&l!==null&&e.push({key:n[n.length-1],target:l,value:p})}return e}function lt(e,t){return e!=null?"hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t):!1}function af(e,t,r,n,i,o,s){let u=n.length,a=u-1,f=t;var c=-1,d,p,l,h=null,w=!0,m=null;if(l=d=e[t],typeof d!="object")return{value:null,parent:null,exists:w};for(;d!=null&&++c<u;){if(t=n[c],h=l,t!=="*"&&!m&&!(typeof d=="object"&&t in d)){w=!1;break}if(!(t==="*"&&(m=t,c!==a))){if(m){let b=Object.keys(d);for(var g=0;g<b.length;g++){let _=b[g],E=d[_],A=t==="*";(A||typeof E=="object"&&E!==null&&t in E)&&(A?l=E:l=E[t],p=c!==a?l:o?s?i(l,[...r,f,...n]):i(l):i,A?d[_]=p:E[t]===p?w=!1:E[t]=p===void 0&&i!==void 0||lt(E,t)&&p===l?E[t]:p)}m=null}else l=d[t],p=c!==a?l:o?s?i(l,[...r,f,...n]):i(l):i,d[t]=lt(d,t)&&p===l||p===void 0&&i!==void 0?d[t]:p,d=d[t];if(typeof d!="object")break;l===h&&(w=!1)}}return{value:l,parent:h,exists:w}}function ci(e,t){for(var r=-1,n=t.length,i=e;i!=null&&++r<n;)i=i[t[r]];return i}});var pi=S((nw,hi)=>{"use strict";var{groupRestore:cf,nestedRestore:df}=sr();hi.exports=hf;function hf({secret:e,wcLen:t}){return function(){if(this.restore)return;let n=Object.keys(e),i=pf(e,n),o=t>0,s=o?{secret:e,groupRestore:cf,nestedRestore:df}:{secret:e};this.restore=Function("o",bf(i,n,o)).bind(s)}}function pf(e,t){return t.map(r=>{let{circle:n,escPath:i,leadingBracket:o}=e[r],u=n?`o.${n} = secret[${i}].val`:`o${o?"":"."}${r} = secret[${i}].val`,a=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${u} } catch (e) {}
        ${a}
      }
    `}).join("")}function bf(e,t,r){return`
    const secret = this.secret
    ${r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:""}
    ${e}
    return o
  `}});var yi=S((iw,bi)=>{"use strict";bi.exports=yf;function yf(e){let{secret:t,censor:r,compileRestore:n,serialize:i,groupRedact:o,nestedRedact:s,wildcards:u,wcLen:a}=e,f=[{secret:t,censor:r,compileRestore:n}];return i!==!1&&f.push({serialize:i}),a>0&&f.push({groupRedact:o,nestedRedact:s,wildcards:u,wcLen:a}),Object.assign(...f)}});var mi=S((ow,wi)=>{"use strict";var gi=oi(),gf=ui(),wf=ai(),mf=pi(),{groupRedact:_f,nestedRedact:Sf}=sr(),Ef=yi(),Rf=st(),Af=gi(),lr=e=>e;lr.restore=lr;var xf="[REDACTED]";ur.rx=Rf;ur.validator=gi;wi.exports=ur;function ur(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let i=n===!0?void 0:"censor"in e?e.censor:xf,o=typeof i=="function",s=o&&i.length>1;if(t.length===0)return r||lr;Af({paths:t,serialize:r,censor:i});let{wildcards:u,wcLen:a,secret:f}=gf({paths:t,censor:i}),c=mf({secret:f,wcLen:a}),d="strict"in e?e.strict:!0;return wf({secret:f,wcLen:a,serialize:r,strict:d,isCensorFct:o,censorFctTakesPath:s},Ef({secret:f,censor:i,compileRestore:c,serialize:r,groupRedact:_f,nestedRedact:Sf,wildcards:u,wcLen:a}))}});var Le=S((sw,_i)=>{"use strict";var Tf=Symbol("pino.setLevel"),Of=Symbol("pino.getLevel"),vf=Symbol("pino.levelVal"),Lf=Symbol("pino.useLevelLabels"),If=Symbol("pino.useOnlyCustomLevels"),kf=Symbol("pino.mixin"),jf=Symbol("pino.lsCache"),Pf=Symbol("pino.chindings"),$f=Symbol("pino.asJson"),qf=Symbol("pino.write"),Df=Symbol("pino.redactFmt"),Nf=Symbol("pino.time"),Mf=Symbol("pino.timeSliceIndex"),Cf=Symbol("pino.stream"),Wf=Symbol("pino.stringify"),Bf=Symbol("pino.stringifySafe"),Ff=Symbol("pino.stringifiers"),Uf=Symbol("pino.end"),Vf=Symbol("pino.formatOpts"),zf=Symbol("pino.messageKey"),Gf=Symbol("pino.errorKey"),Hf=Symbol("pino.nestedKey"),Kf=Symbol("pino.nestedKeyStr"),Jf=Symbol("pino.mixinMergeStrategy"),Xf=Symbol("pino.msgPrefix"),Yf=Symbol("pino.wildcardFirst"),Qf=Symbol.for("pino.serializers"),Zf=Symbol.for("pino.formatters"),ea=Symbol.for("pino.hooks"),ta=Symbol.for("pino.metadata");_i.exports={setLevelSym:Tf,getLevelSym:Of,levelValSym:vf,useLevelLabelsSym:Lf,mixinSym:kf,lsCacheSym:jf,chindingsSym:Pf,asJsonSym:$f,writeSym:qf,serializersSym:Qf,redactFmtSym:Df,timeSym:Nf,timeSliceIndexSym:Mf,streamSym:Cf,stringifySym:Wf,stringifySafeSym:Bf,stringifiersSym:Ff,endSym:Uf,formatOptsSym:Vf,messageKeySym:zf,errorKeySym:Gf,nestedKeySym:Hf,wildcardFirstSym:Yf,needsMetadataGsym:ta,useOnlyCustomLevelsSym:If,formattersSym:Zf,hooksSym:ea,nestedKeyStrSym:Kf,mixinMergeStrategySym:Jf,msgPrefixSym:Xf}});var cr=S((lw,Ai)=>{"use strict";var ar=mi(),{redactFmtSym:ra,wildcardFirstSym:ut}=Le(),{rx:fr,validator:na}=ar,Si=na({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),Ei="[Redacted]",Ri=!1;function ia(e,t){let{paths:r,censor:n}=oa(e),i=r.reduce((u,a)=>{fr.lastIndex=0;let f=fr.exec(a),c=fr.exec(a),d=f[1]!==void 0?f[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):f[0];if(d==="*"&&(d=ut),c===null)return u[d]=null,u;if(u[d]===null)return u;let{index:p}=c,l=`${a.substr(p,a.length-1)}`;return u[d]=u[d]||[],d!==ut&&u[d].length===0&&u[d].push(...u[ut]||[]),d===ut&&Object.keys(u).forEach(function(h){u[h]&&u[h].push(l)}),u[d].push(l),u},{}),o={[ra]:ar({paths:r,censor:n,serialize:t,strict:Ri})},s=(...u)=>t(typeof n=="function"?n(...u):n);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((u,a)=>{if(i[a]===null)u[a]=f=>s(f,[a]);else{let f=typeof n=="function"?(c,d)=>n(c,[a,...d]):n;u[a]=ar({paths:i[a],censor:f,serialize:t,strict:Ri})}return u},o)}function oa(e){if(Array.isArray(e))return e={paths:e,censor:Ei},Si(e),e;let{paths:t,censor:r=Ei,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),Si({paths:t,censor:r}),{paths:t,censor:r}}Ai.exports=ia});var Ti=S((uw,xi)=>{"use strict";var sa=()=>"",la=()=>`,"time":${Date.now()}`,ua=()=>`,"time":${Math.round(Date.now()/1e3)}`,fa=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;xi.exports={nullTime:sa,epochTime:la,unixTime:ua,isoTime:fa}});var vi=S((fw,Oi)=>{"use strict";function aa(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}Oi.exports=ca;function ca(e,t,r){var n=r&&r.stringify||aa,i=1;if(typeof e=="object"&&e!==null){var o=t.length+i;if(o===1)return e;var s=new Array(o);s[0]=n(e);for(var u=1;u<o;u++)s[u]=n(t[u]);return s.join(" ")}if(typeof e!="string")return e;var a=t.length;if(a===0)return e;for(var f="",c=1-i,d=-1,p=e&&e.length||0,l=0;l<p;){if(e.charCodeAt(l)===37&&l+1<p){switch(d=d>-1?d:0,e.charCodeAt(l+1)){case 100:case 102:if(c>=a||t[c]==null)break;d<l&&(f+=e.slice(d,l)),f+=Number(t[c]),d=l+2,l++;break;case 105:if(c>=a||t[c]==null)break;d<l&&(f+=e.slice(d,l)),f+=Math.floor(Number(t[c])),d=l+2,l++;break;case 79:case 111:case 106:if(c>=a||t[c]===void 0)break;d<l&&(f+=e.slice(d,l));var h=typeof t[c];if(h==="string"){f+="'"+t[c]+"'",d=l+2,l++;break}if(h==="function"){f+=t[c].name||"<anonymous>",d=l+2,l++;break}f+=n(t[c]),d=l+2,l++;break;case 115:if(c>=a)break;d<l&&(f+=e.slice(d,l)),f+=String(t[c]),d=l+2,l++;break;case 37:d<l&&(f+=e.slice(d,l)),f+="%",d=l+2,l++,c--;break}++c}++l}return d===-1?e:(d<p&&(f+=e.slice(d)),f)}});var hr=S((aw,dr)=>{"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));dr.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};dr.exports=e}});var Pi=S((cw,ji)=>{"use strict";var W=require("fs"),da=require("events"),ha=require("util").inherits,Li=require("path"),Ii=hr(),pr=100,pa=16*1024;function ki(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;function r(o,s){if(o){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",o)}):t.emit("error",o);return}t.fd=s,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t._reopening&&!t._writing&&t._len>t.minLength&&!t.destroyed&&Ie(t)}let n=t.append?"a":"w",i=t.mode;if(t.sync)try{t.mkdir&&W.mkdirSync(Li.dirname(e),{recursive:!0});let o=W.openSync(e,n,i);r(null,o)}catch(o){throw r(o),o}else t.mkdir?W.mkdir(Li.dirname(e),{recursive:!0},o=>{if(o)return r(o);W.open(e,n,i,r)}):W.open(e,n,i,r)}function B(e){if(!(this instanceof B))return new B(e);let{fd:t,dest:r,minLength:n,maxLength:i,maxWrite:o,sync:s,append:u=!0,mode:a,mkdir:f,retryEAGAIN:c,fsync:d}=e||{};if(t=t||r,this._bufs=[],this._len=0,this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._hwm=Math.max(n||0,16387),this.file=null,this.destroyed=!1,this.minLength=n||0,this.maxLength=i||0,this.maxWrite=o||pa,this.sync=s||!1,this._fsync=d||!1,this.append=u||!1,this.mode=a,this.retryEAGAIN=c||(()=>!0),this.mkdir=f||!1,typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")ki(t,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(p,l)=>{if(p){if(p.code==="EAGAIN"&&this.retryEAGAIN(p,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{Ii(pr),this.release(void 0,0)}catch(w){this.release(w)}else setTimeout(()=>{W.write(this.fd,this._writingBuf,"utf8",this.release)},pr);else this._writing=!1,this.emit("error",p);return}if(this.emit("write",l),this._len-=l,this._len<0&&(this._len=0),this._writingBuf=this._writingBuf.slice(l),this._writingBuf.length){if(!this.sync){W.write(this.fd,this._writingBuf,"utf8",this.release);return}try{do{let w=W.writeSync(this.fd,this._writingBuf,"utf8");this._len-=w,this._writingBuf=this._writingBuf.slice(w)}while(this._writingBuf)}catch(w){this.release(w);return}}this._fsync&&W.fsyncSync(this.fd);let h=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):h>this.minLength?Ie(this):this._ending?h>0?Ie(this):(this._writing=!1,ft(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(ba,this)):this.emit("drain"))},this.on("newListener",function(p){p==="drain"&&(this._asyncDrainScheduled=!1)})}function ba(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}ha(B,da);B.prototype.write=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&Ie(this),this._len<this._hwm)};B.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||(this._bufs.length===0&&this._bufs.push(""),Ie(this))};B.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&W.close(t,r=>{if(r)return this.emit("error",r)})}),ki(e||this.file,this)};B.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?Ie(this):ft(this)))};B.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e.length;){e.length<=0&&(e=this._bufs[0]);try{let t=W.writeSync(this.fd,e,"utf8");e=e.slice(t),this._len=Math.max(this._len-t,0),e.length<=0&&this._bufs.shift()}catch(t){if(t.code!=="EAGAIN"||!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;Ii(pr)}}};B.prototype.destroy=function(){this.destroyed||ft(this)};function Ie(e){let t=e.release;if(e._writing=!0,e._writingBuf=e._writingBuf||e._bufs.shift()||"",e.sync)try{let r=W.writeSync(e.fd,e._writingBuf,"utf8");t(null,r)}catch(r){t(r)}else W.write(e.fd,e._writingBuf,"utf8",t)}function ft(e){if(e.fd===-1){e.once("ready",ft.bind(null,e));return}e.destroyed=!0,e._bufs=[],e.fd!==1&&e.fd!==2?W.close(e.fd,t):setImmediate(t);function t(r){if(r){e.emit("error",r);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}}B.SonicBoom=B;B.default=B;ji.exports=B});var br=S((dw,Ci)=>{"use strict";var le={exit:[],beforeExit:[]},$i={exit:ga,beforeExit:wa},qi=new FinalizationRegistry(ma);function ya(e){le[e].length>0||process.on(e,$i[e])}function Di(e){le[e].length>0||process.removeListener(e,$i[e])}function ga(){Ni("exit")}function wa(){Ni("beforeExit")}function Ni(e){for(let t of le[e]){let r=t.deref(),n=t.fn;r!==void 0&&n(r,e)}}function ma(e){for(let t of["exit","beforeExit"]){let r=le[t].indexOf(e);le[t].splice(r,r+1),Di(t)}}function Mi(e,t,r){if(t===void 0)throw new Error("the object can't be undefined");ya(e);let n=new WeakRef(t);n.fn=r,qi.register(t,n),le[e].push(n)}function _a(e,t){Mi("exit",e,t)}function Sa(e,t){Mi("beforeExit",e,t)}function Ea(e){qi.unregister(e);for(let t of["exit","beforeExit"])le[t]=le[t].filter(r=>{let n=r.deref();return n&&n!==e}),Di(t)}Ci.exports={register:_a,registerBeforeExit:Sa,unregister:Ea}});var Wi=S((hw,Ra)=>{Ra.exports={name:"thread-stream",version:"2.3.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^18.0.0","@types/tap":"^15.0.0",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^8.0.1","sonic-boom":"^3.0.0",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^4.7.2","why-is-node-running":"^2.2.2"},scripts:{test:"standard && npm run transpile && tap test/*.test.*js && tap --ts test/*.test.*ts","test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var Fi=S((pw,Bi)=>{"use strict";function Aa(e,t,r,n,i){let o=Date.now()+n,s=Atomics.load(e,t);if(s===r){i(null,"ok");return}let u=s,a=f=>{Date.now()>o?i(null,"timed-out"):setTimeout(()=>{u=s,s=Atomics.load(e,t),s===u?a(f>=1e3?1e3:f*2):s===r?i(null,"ok"):i(null,"not-equal")},f)};a(1)}function xa(e,t,r,n,i){let o=Date.now()+n,s=Atomics.load(e,t);if(s!==r){i(null,"ok");return}let u=a=>{Date.now()>o?i(null,"timed-out"):setTimeout(()=>{s=Atomics.load(e,t),s!==r?i(null,"ok"):u(a>=1e3?1e3:a*2)},a)};u(1)}Bi.exports={wait:Aa,waitDiff:xa}});var Vi=S((bw,Ui)=>{"use strict";Ui.exports={WRITE_INDEX:4,READ_INDEX:8}});var Ji=S((gw,Ki)=>{"use strict";var{version:Ta}=Wi(),{EventEmitter:Oa}=require("events"),{Worker:va}=require("worker_threads"),{join:La}=require("path"),{pathToFileURL:Ia}=require("url"),{wait:ka}=Fi(),{WRITE_INDEX:F,READ_INDEX:Z}=Vi(),ja=require("buffer"),Pa=require("assert"),y=Symbol("kImpl"),$a=ja.constants.MAX_STRING_LENGTH,ct=class{constructor(t){this._value=t}deref(){return this._value}},qa=global.FinalizationRegistry||class{register(){}unregister(){}},Da=global.WeakRef||ct,zi=new qa(e=>{e.exited||e.terminate()});function Na(e,t){let{filename:r,workerData:n}=t,o=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||La(__dirname,"lib","worker.js"),s=new va(o,{...t.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:Ia(r).href,dataBuf:e[y].dataBuf,stateBuf:e[y].stateBuf,workerData:{$context:{threadStreamVersion:Ta},...n}}});return s.stream=new ct(e),s.on("message",Ma),s.on("exit",Hi),zi.register(e,s),s}function Gi(e){Pa(!e[y].sync),e[y].needDrain&&(e[y].needDrain=!1,e.emit("drain"))}function at(e){let t=Atomics.load(e[y].state,F),r=e[y].data.length-t;if(r>0){if(e[y].buf.length===0){e[y].flushing=!1,e[y].ending?_r(e):e[y].needDrain&&process.nextTick(Gi,e);return}let n=e[y].buf.slice(0,r),i=Buffer.byteLength(n);i<=r?(e[y].buf=e[y].buf.slice(r),dt(e,n,at.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[y].state,Z,0),Atomics.store(e[y].state,F,0);i>e[y].data.length;)r=r/2,n=e[y].buf.slice(0,r),i=Buffer.byteLength(n);e[y].buf=e[y].buf.slice(r),dt(e,n,at.bind(null,e))}})}else if(r===0){if(t===0&&e[y].buf.length===0)return;e.flush(()=>{Atomics.store(e[y].state,Z,0),Atomics.store(e[y].state,F,0),at(e)})}else ee(e,new Error("overwritten"))}function Ma(e){let t=this.stream.deref();if(t===void 0){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new Da(t),t.flush(()=>{t[y].ready=!0,t.emit("ready")});break;case"ERROR":ee(t,e.err);break;case"EVENT":Array.isArray(e.args)?t.emit(e.name,...e.args):t.emit(e.name,e.args);break;default:ee(t,new Error("this should not happen: "+e.code))}}function Hi(e){let t=this.stream.deref();t!==void 0&&(zi.unregister(t),t.worker.exited=!0,t.worker.off("exit",Hi),ee(t,e!==0?new Error("the worker thread exited"):null))}var gr=class extends Oa{constructor(t={}){if(super(),t.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[y]={},this[y].stateBuf=new SharedArrayBuffer(128),this[y].state=new Int32Array(this[y].stateBuf),this[y].dataBuf=new SharedArrayBuffer(t.bufferSize||4*1024*1024),this[y].data=Buffer.from(this[y].dataBuf),this[y].sync=t.sync||!1,this[y].ending=!1,this[y].ended=!1,this[y].needDrain=!1,this[y].destroyed=!1,this[y].flushing=!1,this[y].ready=!1,this[y].finished=!1,this[y].errored=null,this[y].closed=!1,this[y].buf="",this.worker=Na(this,t)}write(t){if(this[y].destroyed)return wr(this,new Error("the worker has exited")),!1;if(this[y].ending)return wr(this,new Error("the worker is ending")),!1;if(this[y].flushing&&this[y].buf.length+t.length>=$a)try{yr(this),this[y].flushing=!0}catch(r){return ee(this,r),!1}if(this[y].buf+=t,this[y].sync)try{return yr(this),!0}catch(r){return ee(this,r),!1}return this[y].flushing||(this[y].flushing=!0,setImmediate(at,this)),this[y].needDrain=this[y].data.length-this[y].buf.length-Atomics.load(this[y].state,F)<=0,!this[y].needDrain}end(){this[y].destroyed||(this[y].ending=!0,_r(this))}flush(t){if(this[y].destroyed){typeof t=="function"&&process.nextTick(t,new Error("the worker has exited"));return}let r=Atomics.load(this[y].state,F);ka(this[y].state,Z,r,1/0,(n,i)=>{if(n){ee(this,n),process.nextTick(t,n);return}if(i==="not-equal"){this.flush(t);return}process.nextTick(t)})}flushSync(){this[y].destroyed||(yr(this),mr(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[y].ready}get destroyed(){return this[y].destroyed}get closed(){return this[y].closed}get writable(){return!this[y].destroyed&&!this[y].ending}get writableEnded(){return this[y].ending}get writableFinished(){return this[y].finished}get writableNeedDrain(){return this[y].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[y].errored}};function wr(e,t){setImmediate(()=>{e.emit("error",t)})}function ee(e,t){e[y].destroyed||(e[y].destroyed=!0,t&&(e[y].errored=t,wr(e,t)),e.worker.exited?setImmediate(()=>{e[y].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[y].closed=!0,e.emit("close")}))}function dt(e,t,r){let n=Atomics.load(e[y].state,F),i=Buffer.byteLength(t);return e[y].data.write(t,n),Atomics.store(e[y].state,F,n+i),Atomics.notify(e[y].state,F),r(),!0}function _r(e){if(!(e[y].ended||!e[y].ending||e[y].flushing)){e[y].ended=!0;try{e.flushSync();let t=Atomics.load(e[y].state,Z);Atomics.store(e[y].state,F,-1),Atomics.notify(e[y].state,F);let r=0;for(;t!==-1;){if(Atomics.wait(e[y].state,Z,t,1e3),t=Atomics.load(e[y].state,Z),t===-2){ee(e,new Error("end() failed"));return}if(++r===10){ee(e,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{e[y].finished=!0,e.emit("finish")})}catch(t){ee(e,t)}}}function yr(e){let t=()=>{e[y].ending?_r(e):e[y].needDrain&&process.nextTick(Gi,e)};for(e[y].flushing=!1;e[y].buf.length!==0;){let r=Atomics.load(e[y].state,F),n=e[y].data.length-r;if(n===0){mr(e),Atomics.store(e[y].state,Z,0),Atomics.store(e[y].state,F,0);continue}else if(n<0)throw new Error("overwritten");let i=e[y].buf.slice(0,n),o=Buffer.byteLength(i);if(o<=n)e[y].buf=e[y].buf.slice(n),dt(e,i,t);else{for(mr(e),Atomics.store(e[y].state,Z,0),Atomics.store(e[y].state,F,0);o>e[y].buf.length;)n=n/2,i=e[y].buf.slice(0,n),o=Buffer.byteLength(i);e[y].buf=e[y].buf.slice(n),dt(e,i,t)}}}function mr(e){if(e[y].flushing)throw new Error("unable to flush while flushing");let t=Atomics.load(e[y].state,F),r=0;for(;;){let n=Atomics.load(e[y].state,Z);if(n===-2)throw Error("_flushSync failed");if(n!==t)Atomics.wait(e[y].state,Z,n,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}Ki.exports=gr});var Rr=S((ww,Xi)=>{"use strict";var{createRequire:Ca}=require("module"),Wa=or(),{join:Sr,isAbsolute:Ba}=require("path"),Fa=hr(),Er=br(),Ua=Ji();function Va(e){Er.register(e,Ga),Er.registerBeforeExit(e,Ha),e.on("close",function(){Er.unregister(e)})}function za(e,t,r){let n=new Ua({filename:e,workerData:t,workerOpts:r});n.on("ready",i),n.on("close",function(){process.removeListener("exit",o)}),process.on("exit",o);function i(){process.removeListener("exit",o),n.unref(),r.autoEnd!==!1&&Va(n)}function o(){n.closed||(n.flushSync(),Fa(100),n.end())}return n}function Ga(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}function Ha(e){e.flushSync()}function Ka(e){let{pipeline:t,targets:r,levels:n,dedupe:i,options:o={},worker:s={},caller:u=Wa()}=e,a=typeof u=="string"?[u]:u,f="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},c=e.target;if(c&&r)throw new Error("only one of target or targets can be specified");return r?(c=f["pino-worker"]||Sr(__dirname,"worker.js"),o.targets=r.map(p=>({...p,target:d(p.target)}))):t&&(c=f["pino-pipeline-worker"]||Sr(__dirname,"worker-pipeline.js"),o.targets=t.map(p=>({...p,target:d(p.target)}))),n&&(o.levels=n),i&&(o.dedupe=i),za(d(c),o,s);function d(p){if(p=f[p]||p,Ba(p)||p.indexOf("file://")===0)return p;if(p==="pino/file")return Sr(__dirname,"..","file.js");let l;for(let h of a)try{l=Ca(h).resolve(p);break}catch{continue}if(!l)throw new Error(`unable to determine transport target for "${p}"`);return l}}Xi.exports=Ka});var bt=S((mw,uo)=>{"use strict";var Yi=vi(),{mapHttpRequest:Ja,mapHttpResponse:Xa}=ir(),Ar=Pi(),Qi=br(),{lsCacheSym:Ya,chindingsSym:ro,writeSym:Zi,serializersSym:no,formatOptsSym:eo,endSym:Qa,stringifiersSym:io,stringifySym:oo,stringifySafeSym:xr,wildcardFirstSym:so,nestedKeySym:Za,formattersSym:lo,messageKeySym:ec,errorKeySym:tc,nestedKeyStrSym:rc,msgPrefixSym:ht}=Le(),{isMainThread:nc}=require("worker_threads"),ic=Rr();function ke(){}function oc(e,t){if(!t)return r;return function(...i){t.call(this,i,r,e)};function r(n,...i){if(typeof n=="object"){let o=n;n!==null&&(n.method&&n.headers&&n.socket?n=Ja(n):typeof n.setHeader=="function"&&(n=Xa(n)));let s;o===null&&i.length===0?s=[null]:(o=i.shift(),s=i),typeof this[ht]=="string"&&o!==void 0&&o!==null&&(o=this[ht]+o),this[Zi](n,Yi(o,s,this[eo]),e)}else{let o=n===void 0?i.shift():n;typeof this[ht]=="string"&&o!==void 0&&o!==null&&(o=this[ht]+o),this[Zi](null,Yi(o,i,this[eo]),e)}}}function to(e){let t="",r=0,n=!1,i=255,o=e.length;if(o>100)return JSON.stringify(e);for(var s=0;s<o&&i>=32;s++)i=e.charCodeAt(s),(i===34||i===92)&&(t+=e.slice(r,s)+"\\",r=s,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}function sc(e,t,r,n){let i=this[oo],o=this[xr],s=this[io],u=this[Qa],a=this[ro],f=this[no],c=this[lo],d=this[ec],p=this[tc],l=this[Ya][r]+n;l=l+a;let h;c.log&&(e=c.log(e));let w=s[so],m="";for(let b in e)if(h=e[b],Object.prototype.hasOwnProperty.call(e,b)&&h!==void 0){f[b]?h=f[b](h):b===p&&f.err&&(h=f.err(h));let _=s[b]||w;switch(typeof h){case"undefined":case"function":continue;case"number":Number.isFinite(h)===!1&&(h=null);case"boolean":_&&(h=_(h));break;case"string":h=(_||to)(h);break;default:h=(_||i)(h,o)}if(h===void 0)continue;m+=',"'+b+'":'+h}let g="";if(t!==void 0){h=f[d]?f[d](t):t;let b=s[d]||w;switch(typeof h){case"function":break;case"number":Number.isFinite(h)===!1&&(h=null);case"boolean":b&&(h=b(h)),g=',"'+d+'":'+h;break;case"string":h=(b||to)(h),g=',"'+d+'":'+h;break;default:h=(b||i)(h,o),g=',"'+d+'":'+h}}return this[Za]&&m?l+this[rc]+m.slice(1)+"}"+g+u:l+m+g+u}function lc(e,t){let r,n=e[ro],i=e[oo],o=e[xr],s=e[io],u=s[so],a=e[no],f=e[lo].bindings;t=f(t);for(let c in t)if(r=t[c],(c!=="level"&&c!=="serializers"&&c!=="formatters"&&c!=="customLevels"&&t.hasOwnProperty(c)&&r!==void 0)===!0){if(r=a[c]?a[c](r):r,r=(s[c]||u||i)(r,o),r===void 0)continue;n+=',"'+c+'":'+r}return n}function uc(e){return e.write!==e.constructor.prototype.write}function pt(e){let t=new Ar(e);return t.on("error",r),!e.sync&&nc&&(Qi.register(t,fc),t.on("close",function(){Qi.unregister(t)})),t;function r(n){if(n.code==="EPIPE"){t.write=ke,t.end=ke,t.flushSync=ke,t.destroy=ke;return}t.removeListener("error",r),t.emit("error",n)}}function fc(e,t){e.destroyed||(t==="beforeExit"?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}function ac(e){return function(r,n,i={},o){if(typeof i=="string")o=pt({dest:i}),i={};else if(typeof o=="string"){if(i&&i.transport)throw Error("only one of option.transport or stream can be specified");o=pt({dest:o})}else if(i instanceof Ar||i.writable||i._writableState)o=i,i={};else if(i.transport){if(i.transport instanceof Ar||i.transport.writable||i.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(i.transport.targets&&i.transport.targets.length&&i.formatters&&typeof i.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let a;i.customLevels&&(a=i.useOnlyCustomLevels?i.customLevels:Object.assign({},i.levels,i.customLevels)),o=ic({caller:n,...i.transport,levels:a})}if(i=Object.assign({},e,i),i.serializers=Object.assign({},e.serializers,i.serializers),i.formatters=Object.assign({},e.formatters,i.formatters),i.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:s,onChild:u}=i;return s===!1&&(i.level="silent"),u||(i.onChild=ke),o||(uc(process.stdout)?o=process.stdout:o=pt({fd:process.stdout.fd||1})),{opts:i,stream:o}}}function cc(e,t){try{return JSON.stringify(e)}catch{try{return(t||this[xr])(e)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function dc(e,t,r){return{level:e,bindings:t,log:r}}function hc(e){let t=Number(e);return typeof e=="string"&&Number.isFinite(t)?t:e===void 0?1:e}uo.exports={noop:ke,buildSafeSonicBoom:pt,asChindings:lc,asJson:sc,genLog:oc,createArgsNormalizer:ac,stringify:cc,buildFormatters:dc,normalizeDestFileDescriptor:hc}});var yt=S((_w,ao)=>{"use strict";var{lsCacheSym:pc,levelValSym:Tr,useOnlyCustomLevelsSym:bc,streamSym:yc,formattersSym:gc,hooksSym:wc}=Le(),{noop:mc,genLog:we}=bt(),K={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},fo={fatal:e=>{let t=we(K.fatal,e);return function(...r){let n=this[yc];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch{}}},error:e=>we(K.error,e),warn:e=>we(K.warn,e),info:e=>we(K.info,e),debug:e=>we(K.debug,e),trace:e=>we(K.trace,e)},Or=Object.keys(K).reduce((e,t)=>(e[K[t]]=t,e),{}),_c=Object.keys(Or).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{});function Sc(e){let t=e[gc].level,{labels:r}=e.levels,n={};for(let i in r){let o=t(r[i],Number(i));n[i]=JSON.stringify(o).slice(0,-1)}return e[pc]=n,e}function Ec(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function Rc(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[Tr],i=this[Tr]=r[e],o=this[bc],s=this[wc].logMethod;for(let u in r){if(i>r[u]){this[u]=mc;continue}this[u]=Ec(u,o)?fo[u](s):we(r[u],s)}this.emit("level-change",e,i,t[n],n,this)}function Ac(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function xc(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&r>=this[Tr]}function Tc(e=null,t=!1){let r=e?Object.keys(e).reduce((o,s)=>(o[e[s]]=s,o),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:Or,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:K,e);return{labels:n,values:i}}function Oc(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(o=>t[o]),r?[]:Object.keys(Or).map(o=>+o),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:K,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function vc(e,t){let{labels:r,values:n}=e;for(let i in t){if(i in n)throw Error("levels cannot be overridden");if(t[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}ao.exports={initialLsCache:_c,genLsCache:Sc,levelMethods:fo,getLevel:Ac,setLevel:Rc,isLevelEnabled:xc,mappings:Tc,levels:K,assertNoLevelCollisions:vc,assertDefaultLevelFound:Oc}});var vr=S((Sw,co)=>{"use strict";co.exports={version:"8.10.0"}});var Ro=S((Rw,Eo)=>{"use strict";var{EventEmitter:Lc}=require("events"),{lsCacheSym:Ic,levelValSym:kc,setLevelSym:Ir,getLevelSym:ho,chindingsSym:kr,parsedChindingsSym:jc,mixinSym:Pc,asJsonSym:wo,writeSym:$c,mixinMergeStrategySym:qc,timeSym:Dc,timeSliceIndexSym:Nc,streamSym:mo,serializersSym:me,formattersSym:Lr,errorKeySym:Mc,useOnlyCustomLevelsSym:Cc,needsMetadataGsym:Wc,redactFmtSym:Bc,stringifySym:Fc,formatOptsSym:Uc,stringifiersSym:Vc,msgPrefixSym:po}=Le(),{getLevel:zc,setLevel:Gc,isLevelEnabled:Hc,mappings:Kc,initialLsCache:Jc,genLsCache:Xc,assertNoLevelCollisions:Yc}=yt(),{asChindings:_o,asJson:Qc,buildFormatters:bo,stringify:yo}=bt(),{version:Zc}=vr(),ed=cr(),td=class{},So={constructor:td,child:rd,bindings:nd,setBindings:id,flush:ud,isLevelEnabled:Hc,version:Zc,get level(){return this[ho]()},set level(e){this[Ir](e)},get levelVal(){return this[kc]},set levelVal(e){throw Error("levelVal is read-only")},[Ic]:Jc,[$c]:sd,[wo]:Qc,[ho]:zc,[Ir]:Gc};Object.setPrototypeOf(So,Lc.prototype);Eo.exports=function(){return Object.create(So)};var go=e=>e;function rd(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let r=this[me],n=this[Lr],i=Object.create(this);if(t.hasOwnProperty("serializers")===!0){i[me]=Object.create(null);for(let c in r)i[me][c]=r[c];let a=Object.getOwnPropertySymbols(r);for(var o=0;o<a.length;o++){let c=a[o];i[me][c]=r[c]}for(let c in t.serializers)i[me][c]=t.serializers[c];let f=Object.getOwnPropertySymbols(t.serializers);for(var s=0;s<f.length;s++){let c=f[s];i[me][c]=t.serializers[c]}}else i[me]=r;if(t.hasOwnProperty("formatters")){let{level:a,bindings:f,log:c}=t.formatters;i[Lr]=bo(a||n.level,f||go,c||n.log)}else i[Lr]=bo(n.level,go,n.log);if(t.hasOwnProperty("customLevels")===!0&&(Yc(this.levels,t.customLevels),i.levels=Kc(t.customLevels,i[Cc]),Xc(i)),typeof t.redact=="object"&&t.redact!==null||Array.isArray(t.redact)){i.redact=t.redact;let a=ed(i.redact,yo),f={stringify:a[Bc]};i[Fc]=yo,i[Vc]=a,i[Uc]=f}typeof t.msgPrefix=="string"&&(i[po]=(this[po]||"")+t.msgPrefix),i[kr]=_o(i,e);let u=t.level||this.level;return i[Ir](u),this.onChild(i),i}function nd(){let t=`{${this[kr].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function id(e){let t=_o(this,e);this[kr]=t,delete this[jc]}function od(e,t){return Object.assign(t,e)}function sd(e,t,r){let n=this[Dc](),i=this[Pc],o=this[Mc],s=this[qc]||od,u;e==null?u={}:e instanceof Error?(u={[o]:e},t===void 0&&(t=e.message)):(u=e,t===void 0&&e[o]&&(t=e[o].message)),i&&(u=s(u,i(u,r)));let a=this[wo](u,t,r,n),f=this[mo];f[Wc]===!0&&(f.lastLevel=r,f.lastObj=u,f.lastMsg=t,f.lastTime=n.slice(this[Nc]),f.lastLogger=this),f.write(a)}function ld(){}function ud(){let e=this[mo];"flush"in e&&e.flush(ld)}});var vo=S((Nr,Oo)=>{"use strict";var{hasOwnProperty:gt}=Object.prototype,Se=Dr();Se.configure=Dr;Se.stringify=Se;Se.default=Se;Nr.stringify=Se;Nr.configure=Dr;Oo.exports=Se;var To=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,fd=new RegExp(To,"g"),qr=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\"];function ad(e){if(e.length===2){let r=e.charCodeAt(1);return`${e[0]}\\u${r.toString(16)}`}let t=e.charCodeAt(0);return qr.length>t?qr[t]:`\\u${t.toString(16)}`}function ue(e){if(e.length<5e3&&!To.test(e))return e;if(e.length>100)return e.replace(fd,ad);let t="",r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i===34||i===92||i<32)t+=`${e.slice(r,n)}${qr[i]}`,r=n+1;else if(i>=55296&&i<=57343){if(i<=56319&&n+1<e.length){let o=e.charCodeAt(n+1);if(o>=56320&&o<=57343){n++;continue}}t+=`${e.slice(r,n)}\\u${i.toString(16)}`,r=n+1}}return t+=e.slice(r),t}function jr(e){if(e.length>200)return e.sort();for(let t=1;t<e.length;t++){let r=e[t],n=t;for(;n!==0&&e[n-1]>r;)e[n]=e[n-1],n--;e[n]=r}return e}var cd=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function Pr(e){return cd.call(e)!==void 0&&e.length!==0}function $r(e,t,r){e.length<r&&(r=e.length);let n=t===","?"":" ",i=`"0":${n}${e[0]}`;for(let o=1;o<r;o++)i+=`${t}"${o}":${n}${e[o]}`;return i}function dd(e){if(gt.call(e,"circularValue")){let t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function Ao(e,t){let r;if(gt.call(e,t)&&(r=e[t],typeof r!="boolean"))throw new TypeError(`The "${t}" argument must be of type boolean`);return r===void 0?!0:r}function xo(e,t){let r;if(gt.call(e,t)){if(r=e[t],typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}function _e(e){return e===1?"1 item":`${e} items`}function hd(e){let t=new Set;for(let r of e)(typeof r=="string"||typeof r=="number")&&t.add(String(r));return t}function pd(e){if(gt.call(e,"strict")){let t=e.strict;if(typeof t!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(t)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function Dr(e){e={...e};let t=pd(e);t&&(e.bigint===void 0&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let r=dd(e),n=Ao(e,"bigint"),i=Ao(e,"deterministic"),o=xo(e,"maximumDepth"),s=xo(e,"maximumBreadth");function u(p,l,h,w,m,g){let b=l[p];switch(typeof b=="object"&&b!==null&&typeof b.toJSON=="function"&&(b=b.toJSON(p)),b=w.call(l,p,b),typeof b){case"string":return`"${ue(b)}"`;case"object":{if(b===null)return"null";if(h.indexOf(b)!==-1)return r;let _="",E=",",A=g;if(Array.isArray(b)){if(b.length===0)return"[]";if(o<h.length+1)return'"[Array]"';h.push(b),m!==""&&(g+=m,_+=`
${g}`,E=`,
${g}`);let I=Math.min(b.length,s),V=0;for(;V<I-1;V++){let ge=u(V,b,h,w,m,g);_+=ge!==void 0?ge:"null",_+=E}let z=u(V,b,h,w,m,g);if(_+=z!==void 0?z:"null",b.length-1>s){let ge=b.length-s-1;_+=`${E}"... ${_e(ge)} not stringified"`}return m!==""&&(_+=`
${A}`),h.pop(),`[${_}]`}let L=Object.keys(b),v=L.length;if(v===0)return"{}";if(o<h.length+1)return'"[Object]"';let R="",j="";m!==""&&(g+=m,E=`,
${g}`,R=" ");let N=Math.min(v,s);Pr(b)&&(_+=$r(b,E,s),L=L.slice(b.length),N-=b.length,j=E),i&&(L=jr(L)),h.push(b);for(let I=0;I<N;I++){let V=L[I],z=u(V,b,h,w,m,g);z!==void 0&&(_+=`${j}"${ue(V)}":${R}${z}`,j=E)}if(v>s){let I=v-s;_+=`${j}"...":${R}"${_e(I)} not stringified"`,j=E}return m!==""&&j.length>1&&(_=`
${g}${_}
${A}`),h.pop(),`{${_}}`}case"number":return isFinite(b)?String(b):t?t(b):"null";case"boolean":return b===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(b);default:return t?t(b):void 0}}function a(p,l,h,w,m,g){switch(typeof l=="object"&&l!==null&&typeof l.toJSON=="function"&&(l=l.toJSON(p)),typeof l){case"string":return`"${ue(l)}"`;case"object":{if(l===null)return"null";if(h.indexOf(l)!==-1)return r;let b=g,_="",E=",";if(Array.isArray(l)){if(l.length===0)return"[]";if(o<h.length+1)return'"[Array]"';h.push(l),m!==""&&(g+=m,_+=`
${g}`,E=`,
${g}`);let v=Math.min(l.length,s),R=0;for(;R<v-1;R++){let N=a(R,l[R],h,w,m,g);_+=N!==void 0?N:"null",_+=E}let j=a(R,l[R],h,w,m,g);if(_+=j!==void 0?j:"null",l.length-1>s){let N=l.length-s-1;_+=`${E}"... ${_e(N)} not stringified"`}return m!==""&&(_+=`
${b}`),h.pop(),`[${_}]`}h.push(l);let A="";m!==""&&(g+=m,E=`,
${g}`,A=" ");let L="";for(let v of w){let R=a(v,l[v],h,w,m,g);R!==void 0&&(_+=`${L}"${ue(v)}":${A}${R}`,L=E)}return m!==""&&L.length>1&&(_=`
${g}${_}
${b}`),h.pop(),`{${_}}`}case"number":return isFinite(l)?String(l):t?t(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(l);default:return t?t(l):void 0}}function f(p,l,h,w,m){switch(typeof l){case"string":return`"${ue(l)}"`;case"object":{if(l===null)return"null";if(typeof l.toJSON=="function"){if(l=l.toJSON(p),typeof l!="object")return f(p,l,h,w,m);if(l===null)return"null"}if(h.indexOf(l)!==-1)return r;let g=m;if(Array.isArray(l)){if(l.length===0)return"[]";if(o<h.length+1)return'"[Array]"';h.push(l),m+=w;let R=`
${m}`,j=`,
${m}`,N=Math.min(l.length,s),I=0;for(;I<N-1;I++){let z=f(I,l[I],h,w,m);R+=z!==void 0?z:"null",R+=j}let V=f(I,l[I],h,w,m);if(R+=V!==void 0?V:"null",l.length-1>s){let z=l.length-s-1;R+=`${j}"... ${_e(z)} not stringified"`}return R+=`
${g}`,h.pop(),`[${R}]`}let b=Object.keys(l),_=b.length;if(_===0)return"{}";if(o<h.length+1)return'"[Object]"';m+=w;let E=`,
${m}`,A="",L="",v=Math.min(_,s);Pr(l)&&(A+=$r(l,E,s),b=b.slice(l.length),v-=l.length,L=E),i&&(b=jr(b)),h.push(l);for(let R=0;R<v;R++){let j=b[R],N=f(j,l[j],h,w,m);N!==void 0&&(A+=`${L}"${ue(j)}": ${N}`,L=E)}if(_>s){let R=_-s;A+=`${L}"...": "${_e(R)} not stringified"`,L=E}return L!==""&&(A=`
${m}${A}
${g}`),h.pop(),`{${A}}`}case"number":return isFinite(l)?String(l):t?t(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(l);default:return t?t(l):void 0}}function c(p,l,h){switch(typeof l){case"string":return`"${ue(l)}"`;case"object":{if(l===null)return"null";if(typeof l.toJSON=="function"){if(l=l.toJSON(p),typeof l!="object")return c(p,l,h);if(l===null)return"null"}if(h.indexOf(l)!==-1)return r;let w="";if(Array.isArray(l)){if(l.length===0)return"[]";if(o<h.length+1)return'"[Array]"';h.push(l);let E=Math.min(l.length,s),A=0;for(;A<E-1;A++){let v=c(A,l[A],h);w+=v!==void 0?v:"null",w+=","}let L=c(A,l[A],h);if(w+=L!==void 0?L:"null",l.length-1>s){let v=l.length-s-1;w+=`,"... ${_e(v)} not stringified"`}return h.pop(),`[${w}]`}let m=Object.keys(l),g=m.length;if(g===0)return"{}";if(o<h.length+1)return'"[Object]"';let b="",_=Math.min(g,s);Pr(l)&&(w+=$r(l,",",s),m=m.slice(l.length),_-=l.length,b=","),i&&(m=jr(m)),h.push(l);for(let E=0;E<_;E++){let A=m[E],L=c(A,l[A],h);L!==void 0&&(w+=`${b}"${ue(A)}":${L}`,b=",")}if(g>s){let E=g-s;w+=`${b}"...":"${_e(E)} not stringified"`}return h.pop(),`{${w}}`}case"number":return isFinite(l)?String(l):t?t(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(l);default:return t?t(l):void 0}}function d(p,l,h){if(arguments.length>1){let w="";if(typeof h=="number"?w=" ".repeat(Math.min(h,10)):typeof h=="string"&&(w=h.slice(0,10)),l!=null){if(typeof l=="function")return u("",{"":p},[],l,w,"");if(Array.isArray(l))return a("",p,[],hd(l),w,"")}if(w.length!==0)return f("",p,[],w,"")}return c("",p,[])}return d}});var jo=S((Aw,ko)=>{"use strict";var Mr=Symbol.for("pino.metadata"),{levels:Lo}=yt(),Io=Object.create(Lo);Io.silent=1/0;var bd=Lo.info;function yd(e,t){let r=0;e=e||[],t=t||{dedupe:!1};let n=Io;t.levels&&typeof t.levels=="object"&&(n=t.levels);let i={write:o,add:u,flushSync:s,end:a,minLevel:0,streams:[],clone:f,[Mr]:!0};return Array.isArray(e)?e.forEach(u,i):u.call(i,e),e=null,i;function o(c){let d,p=this.lastLevel,{streams:l}=this,h=0,w;for(let m=wd(l.length,t.dedupe);_d(m,l.length,t.dedupe);m=md(m,t.dedupe))if(d=l[m],d.level<=p){if(h!==0&&h!==d.level)break;if(w=d.stream,w[Mr]){let{lastTime:g,lastMsg:b,lastObj:_,lastLogger:E}=this;w.lastLevel=p,w.lastTime=g,w.lastMsg=b,w.lastObj=_,w.lastLogger=E}w.write(c),t.dedupe&&(h=d.level)}else if(!t.dedupe)break}function s(){for(let{stream:c}of this.streams)typeof c.flushSync=="function"&&c.flushSync()}function u(c){if(!c)return i;let d=typeof c.write=="function"||c.stream,p=c.write?c:c.stream;if(!d)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:l}=this,h;typeof c.levelVal=="number"?h=c.levelVal:typeof c.level=="string"?h=n[c.level]:typeof c.level=="number"?h=c.level:h=bd;let w={stream:p,level:h,levelVal:void 0,id:r++};return l.unshift(w),l.sort(gd),this.minLevel=l[0].level,i}function a(){for(let{stream:c}of this.streams)typeof c.flushSync=="function"&&c.flushSync(),c.end()}function f(c){let d=new Array(this.streams.length);for(let p=0;p<d.length;p++)d[p]={level:c,stream:this.streams[p].stream};return{write:o,add:u,minLevel:c,streams:d,clone:f,flushSync:s,[Mr]:!0}}}function gd(e,t){return e.level-t.level}function wd(e,t){return t?e-1:0}function md(e,t){return t?e-1:e+1}function _d(e,t,r){return r?e>=0:e<t}ko.exports=yd});var zo=S((xw,G)=>{function Ve(e){try{return require("path").join(`${process.cwd()}${require("path").sep}dist`.replace(/\\/g,"/"),e)}catch{return new Function("p","return new URL(p, import.meta.url).pathname")(e)}}globalThis.__bundlerPathsOverrides={...globalThis.__bundlerPathsOverrides||{},"thread-stream-worker":Ve("./thread-stream-worker.js"),"pino-worker":Ve("./pino-worker.js"),"pino-pipeline-worker":Ve("./pino-pipeline-worker.js"),"pino/file":Ve("./pino-file.js"),"pino-pretty":Ve("./pino-pretty.js")};var Sd=require("os"),Wo=ir(),Ed=or(),Rd=cr(),Bo=Ti(),Ad=Ro(),Fo=Le(),{configure:xd}=vo(),{assertDefaultLevelFound:Td,mappings:Uo,genLsCache:Od,levels:vd}=yt(),{createArgsNormalizer:Ld,asChindings:Id,buildSafeSonicBoom:Po,buildFormatters:kd,stringify:Cr,normalizeDestFileDescriptor:$o,noop:jd}=bt(),{version:Pd}=vr(),{chindingsSym:qo,redactFmtSym:$d,serializersSym:Do,timeSym:qd,timeSliceIndexSym:Dd,streamSym:Nd,stringifySym:No,stringifySafeSym:Wr,stringifiersSym:Mo,setLevelSym:Md,endSym:Cd,formatOptsSym:Wd,messageKeySym:Bd,errorKeySym:Fd,nestedKeySym:Ud,mixinSym:Vd,useOnlyCustomLevelsSym:zd,formattersSym:Co,hooksSym:Gd,nestedKeyStrSym:Hd,mixinMergeStrategySym:Kd,msgPrefixSym:Jd}=Fo,{epochTime:Vo,nullTime:Xd}=Bo,{pid:Yd}=process,Qd=Sd.hostname(),Zd=Wo.err,eh={level:"info",levels:vd,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:Yd,hostname:Qd},serializers:Object.assign(Object.create(null),{err:Zd}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:Vo,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},th=Ld(eh),rh=Object.assign(Object.create(null),Wo);function Br(...e){let t={},{opts:r,stream:n}=th(t,Ed(),...e),{redact:i,crlf:o,serializers:s,timestamp:u,messageKey:a,errorKey:f,nestedKey:c,base:d,name:p,level:l,customLevels:h,mixin:w,mixinMergeStrategy:m,useOnlyCustomLevels:g,formatters:b,hooks:_,depthLimit:E,edgeLimit:A,onChild:L,msgPrefix:v}=r,R=xd({maximumDepth:E,maximumBreadth:A}),j=kd(b.level,b.bindings,b.log),N=Cr.bind({[Wr]:R}),I=i?Rd(i,N):{},V=i?{stringify:I[$d]}:{stringify:N},z="}"+(o?`\r
`:`
`),ge=Id.bind(null,{[qo]:"",[Do]:s,[Mo]:I,[No]:Cr,[Wr]:R,[Co]:j}),Xt="";d!==null&&(p===void 0?Xt=ge(d):Xt=ge(Object.assign({},d,{name:p})));let Cn=u instanceof Function?u:u?Vo:Xd,Mu=Cn().indexOf(":")+1;if(g&&!h)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(w&&typeof w!="function")throw Error(`Unknown mixin type "${typeof w}" - expected "function"`);if(v&&typeof v!="string")throw Error(`Unknown msgPrefix type "${typeof v}" - expected "string"`);Td(l,h,g);let Cu=Uo(h,g);return Object.assign(t,{levels:Cu,[zd]:g,[Nd]:n,[qd]:Cn,[Dd]:Mu,[No]:Cr,[Wr]:R,[Mo]:I,[Cd]:z,[Wd]:V,[Bd]:a,[Fd]:f,[Ud]:c,[Hd]:c?`,${JSON.stringify(c)}:{`:"",[Do]:s,[Vd]:w,[Kd]:m,[qo]:Xt,[Co]:j,[Gd]:_,silent:jd,onChild:L,[Jd]:v}),Object.setPrototypeOf(t,Ad()),Od(t),t[Md](l),t}G.exports=Br;G.exports.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=$o(e.dest||process.stdout.fd),Po(e)):Po({dest:$o(e),minLength:0});G.exports.transport=Rr();G.exports.multistream=jo();G.exports.levels=Uo();G.exports.stdSerializers=rh;G.exports.stdTimeFunctions=Object.assign({},Bo);G.exports.symbols=Fo;G.exports.version=Pd;G.exports.default=Br;G.exports.pino=Br});var Jo=S((Tw,Ko)=>{"use strict";var{Transform:nh}=require("stream"),{StringDecoder:ih}=require("string_decoder"),fe=Symbol("last"),wt=Symbol("decoder");function oh(e,t,r){let n;if(this.overflow){if(n=this[wt].write(e).split(this.matcher),n.length===1)return r();n.shift(),this.overflow=!1}else this[fe]+=this[wt].write(e),n=this[fe].split(this.matcher);this[fe]=n.pop();for(let i=0;i<n.length;i++)try{Ho(this,this.mapper(n[i]))}catch(o){return r(o)}if(this.overflow=this[fe].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function sh(e){if(this[fe]+=this[wt].end(),this[fe])try{Ho(this,this.mapper(this[fe]))}catch(t){return e(t)}e()}function Ho(e,t){t!==void 0&&e.push(t)}function Go(e){return e}function lh(e,t,r){switch(e=e||/\r?\n/,t=t||Go,r=r||{},arguments.length){case 1:typeof e=="function"?(t=e,e=/\r?\n/):typeof e=="object"&&!(e instanceof RegExp)&&(r=e,e=/\r?\n/);break;case 2:typeof e=="function"?(r=t,t=e,e=/\r?\n/):typeof t=="object"&&(r=t,t=Go)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=oh,r.flush=sh,r.readableObjectMode=!0;let n=new nh(r);return n[fe]="",n[wt]=new ih("utf8"),n.matcher=e,n.mapper=t,n.maxLength=r.maxLength,n.skipOverflow=r.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,o){this._writableState.errorEmitted=!1,o(i)},n}Ko.exports=lh});var q=S((Ow,Xo)=>{"use strict";Xo.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Uint8Array}});var te=S((vw,Ur)=>{"use strict";var uh=require("buffer"),fh=Object.getPrototypeOf(async function(){}).constructor,Yo=globalThis.Blob||uh.Blob,ah=typeof Yo<"u"?function(t){return t instanceof Yo}:function(t){return!1},Fr=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let r="";for(let n=0;n<t.length;n++)r+=`    ${t[n].stack}
`;super(r),this.name="AggregateError",this.errors=t}};Ur.exports={AggregateError:Fr,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}},promisify(e){return new Promise((t,r)=>{e((n,...i)=>n?r(n):t(...i))})},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){let i=t.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof fh},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:ah};Ur.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var ls=S((He,Ge)=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});var ns=new WeakMap,Vr=new WeakMap;function k(e){let t=ns.get(e);return console.assert(t!=null,"'this' is expected an Event object, but got",e),t}function Qo(e){if(e.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,typeof e.event.preventDefault=="function"&&e.event.preventDefault())}function je(e,t){ns.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,is(i))}}je.prototype={get type(){return k(this).event.type},get target(){return k(this).eventTarget},get currentTarget(){return k(this).currentTarget},composedPath(){let e=k(this).currentTarget;return e==null?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return k(this).eventPhase},stopPropagation(){let e=k(this);e.stopped=!0,typeof e.event.stopPropagation=="function"&&e.event.stopPropagation()},stopImmediatePropagation(){let e=k(this);e.stopped=!0,e.immediateStopped=!0,typeof e.event.stopImmediatePropagation=="function"&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(k(this).event.bubbles)},get cancelable(){return Boolean(k(this).event.cancelable)},preventDefault(){Qo(k(this))},get defaultPrevented(){return k(this).canceled},get composed(){return Boolean(k(this).event.composed)},get timeStamp(){return k(this).timeStamp},get srcElement(){return k(this).eventTarget},get cancelBubble(){return k(this).stopped},set cancelBubble(e){if(!e)return;let t=k(this);t.stopped=!0,typeof t.event.cancelBubble=="boolean"&&(t.event.cancelBubble=!0)},get returnValue(){return!k(this).canceled},set returnValue(e){e||Qo(k(this))},initEvent(){}};Object.defineProperty(je.prototype,"constructor",{value:je,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(je.prototype,window.Event.prototype),Vr.set(window.Event.prototype,je));function is(e){return{get(){return k(this).event[e]},set(t){k(this).event[e]=t},configurable:!0,enumerable:!0}}function ch(e){return{value(){let t=k(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function dh(e,t){let r=Object.keys(t);if(r.length===0)return e;function n(i,o){e.call(this,i,o)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let o=r[i];if(!(o in e.prototype)){let u=typeof Object.getOwnPropertyDescriptor(t,o).value=="function";Object.defineProperty(n.prototype,o,u?ch(o):is(o))}}return n}function os(e){if(e==null||e===Object.prototype)return je;let t=Vr.get(e);return t==null&&(t=dh(os(Object.getPrototypeOf(e)),e),Vr.set(e,t)),t}function hh(e,t){let r=os(Object.getPrototypeOf(t));return new r(e,t)}function ph(e){return k(e).immediateStopped}function bh(e,t){k(e).eventPhase=t}function yh(e,t){k(e).currentTarget=t}function Zo(e,t){k(e).passiveListener=t}var ss=new WeakMap,es=1,ts=2,mt=3;function _t(e){return e!==null&&typeof e=="object"}function ze(e){let t=ss.get(e);if(t==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function gh(e){return{get(){let r=ze(this).get(e);for(;r!=null;){if(r.listenerType===mt)return r.listener;r=r.next}return null},set(t){typeof t!="function"&&!_t(t)&&(t=null);let r=ze(this),n=null,i=r.get(e);for(;i!=null;)i.listenerType===mt?n!==null?n.next=i.next:i.next!==null?r.set(e,i.next):r.delete(e):n=i,i=i.next;if(t!==null){let o={listener:t,listenerType:mt,passive:!1,once:!1,next:null};n===null?r.set(e,o):n.next=o}},configurable:!0,enumerable:!0}}function zr(e,t){Object.defineProperty(e,`on${t}`,gh(t))}function rs(e){function t(){J.call(this)}t.prototype=Object.create(J.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)zr(t.prototype,e[r]);return t}function J(){if(this instanceof J){ss.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return rs(arguments[0]);if(arguments.length>0){let e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return rs(e)}throw new TypeError("Cannot call a class as a function")}J.prototype={addEventListener(e,t,r){if(t==null)return;if(typeof t!="function"&&!_t(t))throw new TypeError("'listener' should be a function or an object.");let n=ze(this),i=_t(r),s=Boolean(i?r.capture:r)?es:ts,u={listener:t,listenerType:s,passive:i&&Boolean(r.passive),once:i&&Boolean(r.once),next:null},a=n.get(e);if(a===void 0){n.set(e,u);return}let f=null;for(;a!=null;){if(a.listener===t&&a.listenerType===s)return;f=a,a=a.next}f.next=u},removeEventListener(e,t,r){if(t==null)return;let n=ze(this),o=(_t(r)?Boolean(r.capture):Boolean(r))?es:ts,s=null,u=n.get(e);for(;u!=null;){if(u.listener===t&&u.listenerType===o){s!==null?s.next=u.next:u.next!==null?n.set(e,u.next):n.delete(e);return}s=u,u=u.next}},dispatchEvent(e){if(e==null||typeof e.type!="string")throw new TypeError('"event.type" should be a string.');let t=ze(this),r=e.type,n=t.get(r);if(n==null)return!0;let i=hh(this,e),o=null;for(;n!=null;){if(n.once?o!==null?o.next=n.next:n.next!==null?t.set(r,n.next):t.delete(r):o=n,Zo(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(s){typeof console<"u"&&typeof console.error=="function"&&console.error(s)}else n.listenerType!==mt&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(ph(i))break;n=n.next}return Zo(i,null),bh(i,0),yh(i,null),!i.defaultPrevented}};Object.defineProperty(J.prototype,"constructor",{value:J,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(J.prototype,window.EventTarget.prototype);He.defineEventAttribute=zr;He.EventTarget=J;He.default=J;Ge.exports=J;Ge.exports.EventTarget=Ge.exports.default=J;Ge.exports.defineEventAttribute=zr});var Et=S((Je,Ke)=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});var Gr=ls(),ae=class extends Gr.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let t=St.get(this);if(typeof t!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return t}};Gr.defineEventAttribute(ae.prototype,"abort");function wh(){let e=Object.create(ae.prototype);return Gr.EventTarget.call(e),St.set(e,!1),e}function mh(e){St.get(e)===!1&&(St.set(e,!0),e.dispatchEvent({type:"abort"}))}var St=new WeakMap;Object.defineProperties(ae.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ae.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var ce=class{constructor(){fs.set(this,wh())}get signal(){return us(this)}abort(){mh(us(this))}},fs=new WeakMap;function us(e){let t=fs.get(e);if(t==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${e===null?"null":typeof e}`);return t}Object.defineProperties(ce.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ce.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});Je.AbortController=ce;Je.AbortSignal=ae;Je.default=ce;Ke.exports=ce;Ke.exports.AbortController=Ke.exports.default=ce;Ke.exports.AbortSignal=ae});var C=S((Lw,ds)=>{"use strict";var{format:_h,inspect:Rt,AggregateError:Sh}=te(),Eh=globalThis.AggregateError||Sh,Rh=Symbol("kIsNodeError"),Ah=["string","function","number","object","Function","Object","boolean","bigint","symbol"],xh=/^([A-Z][a-z0-9]*)+$/,Th="__node_internal_",At={};function Ee(e,t){if(!e)throw new At.ERR_INTERNAL_ASSERTION(t)}function as(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Oh(e,t,r){if(typeof t=="function")return Ee(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let n=(t.match(/%[dfijoOs]/g)||[]).length;return Ee(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:_h(t,...r)}function M(e,t,r){r||(r=Error);class n extends r{constructor(...o){super(Oh(e,t,o))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Rh]=!0,At[e]=n}function cs(e){let t=Th+e.name;return Object.defineProperty(e,"name",{value:t}),e}function vh(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new Eh([t,e],t.message);return r.code=t.code,r}return e||t}var Hr=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new At.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};M("ERR_ASSERTION","%s",Error);M("ERR_INVALID_ARG_TYPE",(e,t,r)=>{Ee(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let i=[],o=[],s=[];for(let a of t)Ee(typeof a=="string","All expected entries have to be of type string"),Ah.includes(a)?i.push(a.toLowerCase()):xh.test(a)?o.push(a):(Ee(a!=="object",'The value "object" should be written as "Object"'),s.push(a));if(o.length>0){let a=i.indexOf("object");a!==-1&&(i.splice(i,a,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let a=i.pop();n+=`one of type ${i.join(", ")}, or ${a}`}}(o.length>0||s.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let a=o.pop();n+=`an instance of ${o.join(", ")}, or ${a}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{let a=s.pop();n+=`one of ${s.join(", ")}, or ${a}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var u;if((u=r.constructor)!==null&&u!==void 0&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{let a=Rt(r,{depth:-1});n+=`. Received ${a}`}}else{let a=Rt(r,{colors:!1});a.length>25&&(a=`${a.slice(0,25)}...`),n+=`. Received type ${typeof r} (${a})`}return n},TypeError);M("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=Rt(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);M("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError);M("ERR_MISSING_ARGS",(...e)=>{Ee(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);M("ERR_OUT_OF_RANGE",(e,t,r)=>{Ee(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=as(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=as(n)),n+="n"):n=Rt(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);M("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);M("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);M("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);M("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);M("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);M("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);M("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);M("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);M("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);M("ERR_STREAM_WRITE_AFTER_END","write after end",Error);M("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);ds.exports={AbortError:Hr,aggregateTwoErrors:cs(vh),hideStackFrames:cs,codes:At}});var Xe=S((Iw,_s)=>{"use strict";var{ArrayIsArray:bs,ArrayPrototypeIncludes:ys,ArrayPrototypeJoin:gs,ArrayPrototypeMap:Lh,NumberIsInteger:Jr,NumberIsNaN:Ih,NumberMAX_SAFE_INTEGER:kh,NumberMIN_SAFE_INTEGER:jh,NumberParseInt:Ph,ObjectPrototypeHasOwnProperty:$h,RegExpPrototypeExec:qh,String:Dh,StringPrototypeToUpperCase:Nh,StringPrototypeTrim:Mh}=q(),{hideStackFrames:X,codes:{ERR_SOCKET_BAD_PORT:Ch,ERR_INVALID_ARG_TYPE:U,ERR_INVALID_ARG_VALUE:xt,ERR_OUT_OF_RANGE:Re,ERR_UNKNOWN_SIGNAL:hs}}=C(),{normalizeEncoding:Wh}=te(),{isAsyncFunction:Bh,isArrayBufferView:Fh}=te().types,ps={};function Uh(e){return e===(e|0)}function Vh(e){return e===e>>>0}var zh=/^[0-7]+$/,Gh="must be a 32-bit unsigned integer or an octal string";function Hh(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(qh(zh,e)===null)throw new xt(t,e,Gh);e=Ph(e,8)}return ws(e,t),e}var Kh=X((e,t,r=jh,n=kh)=>{if(typeof e!="number")throw new U(t,"number",e);if(!Jr(e))throw new Re(t,"an integer",e);if(e<r||e>n)throw new Re(t,`>= ${r} && <= ${n}`,e)}),Jh=X((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new U(t,"number",e);if(!Jr(e))throw new Re(t,"an integer",e);if(e<r||e>n)throw new Re(t,`>= ${r} && <= ${n}`,e)}),ws=X((e,t,r=!1)=>{if(typeof e!="number")throw new U(t,"number",e);if(!Jr(e))throw new Re(t,"an integer",e);let n=r?1:0,i=4294967295;if(e<n||e>i)throw new Re(t,`>= ${n} && <= ${i}`,e)});function ms(e,t){if(typeof e!="string")throw new U(t,"string",e)}function Xh(e,t,r=void 0,n){if(typeof e!="number")throw new U(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&Ih(e))throw new Re(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}var Yh=X((e,t,r)=>{if(!ys(r,e)){let i="must be one of: "+gs(Lh(r,o=>typeof o=="string"?`'${o}'`:Dh(o)),", ");throw new xt(t,e,i)}});function Qh(e,t){if(typeof e!="boolean")throw new U(t,"boolean",e)}function Kr(e,t,r){return e==null||!$h(e,t)?r:e[t]}var Zh=X((e,t,r=null)=>{let n=Kr(r,"allowArray",!1),i=Kr(r,"allowFunction",!1);if(!Kr(r,"nullable",!1)&&e===null||!n&&bs(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new U(t,"Object",e)}),ep=X((e,t,r=0)=>{if(!bs(e))throw new U(t,"Array",e);if(e.length<r){let n=`must be longer than ${r}`;throw new xt(t,e,n)}});function tp(e,t="signal"){if(ms(e,t),ps[e]===void 0)throw ps[Nh(e)]!==void 0?new hs(e+" (signals must use all capital letters)"):new hs(e)}var rp=X((e,t="buffer")=>{if(!Fh(e))throw new U(t,["Buffer","TypedArray","DataView"],e)});function np(e,t){let r=Wh(t),n=e.length;if(r==="hex"&&n%2!==0)throw new xt("encoding",t,`is invalid for data of length ${n}`)}function ip(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&Mh(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new Ch(t,e,r);return e|0}var op=X((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new U(t,"AbortSignal",e)}),sp=X((e,t)=>{if(typeof e!="function")throw new U(t,"Function",e)}),lp=X((e,t)=>{if(typeof e!="function"||Bh(e))throw new U(t,"Function",e)}),up=X((e,t)=>{if(e!==void 0)throw new U(t,"undefined",e)});function fp(e,t,r){if(!ys(r,e))throw new U(t,`('${gs(r,"|")}')`,e)}_s.exports={isInt32:Uh,isUint32:Vh,parseFileMode:Hh,validateArray:ep,validateBoolean:Qh,validateBuffer:rp,validateEncoding:np,validateFunction:sp,validateInt32:Jh,validateInteger:Kh,validateNumber:Xh,validateObject:Zh,validateOneOf:Yh,validatePlainFunction:lp,validatePort:ip,validateSignalName:tp,validateString:ms,validateUint32:ws,validateUndefined:up,validateUnion:fp,validateAbortSignal:op}});var de=S((kw,Ss)=>{Ss.exports=global.process});var he=S((jw,Ps)=>{"use strict";var{Symbol:Tt,SymbolAsyncIterator:Es,SymbolIterator:Rs}=q(),As=Tt("kDestroyed"),xs=Tt("kIsErrored"),Xr=Tt("kIsReadable"),Ts=Tt("kIsDisturbed");function Ot(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function vt(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function ap(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function Ae(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function cp(e,t){return e==null?!1:t===!0?typeof e[Es]=="function":t===!1?typeof e[Rs]=="function":typeof e[Es]=="function"||typeof e[Rs]=="function"}function Lt(e){if(!Ae(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[As]||n!=null&&n.destroyed)}function Os(e){if(!vt(e))return null;if(e.writableEnded===!0)return!0;let t=e._writableState;return t!=null&&t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function dp(e,t){if(!vt(e))return null;if(e.writableFinished===!0)return!0;let r=e._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function hp(e){if(!Ot(e))return null;if(e.readableEnded===!0)return!0;let t=e._readableState;return!t||t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function vs(e,t){if(!Ot(e))return null;let r=e._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function Ls(e){return e&&e[Xr]!=null?e[Xr]:typeof e?.readable!="boolean"?null:Lt(e)?!1:Ot(e)&&e.readable&&!vs(e)}function Is(e){return typeof e?.writable!="boolean"?null:Lt(e)?!1:vt(e)&&e.writable&&!Os(e)}function pp(e,t){return Ae(e)?Lt(e)?!0:!(t?.readable!==!1&&Ls(e)||t?.writable!==!1&&Is(e)):null}function bp(e){var t,r;return Ae(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function yp(e){var t,r;return Ae(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function gp(e){if(!Ae(e))return null;if(typeof e.closed=="boolean")return e.closed;let t=e._writableState,r=e._readableState;return typeof t?.closed=="boolean"||typeof r?.closed=="boolean"?t?.closed||r?.closed:typeof e._closed=="boolean"&&ks(e)?e._closed:null}function ks(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function js(e){return typeof e._sent100=="boolean"&&ks(e)}function wp(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function mp(e){if(!Ae(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&js(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function _p(e){var t;return!!(e&&((t=e[Ts])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function Sp(e){var t,r,n,i,o,s,u,a,f,c;return!!(e&&((t=(r=(n=(i=(o=(s=e[xs])!==null&&s!==void 0?s:e.readableErrored)!==null&&o!==void 0?o:e.writableErrored)!==null&&i!==void 0?i:(u=e._readableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&n!==void 0?n:(a=e._writableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&r!==void 0?r:(f=e._readableState)===null||f===void 0?void 0:f.errored)!==null&&t!==void 0?t:!((c=e._writableState)===null||c===void 0)&&c.errored))}Ps.exports={kDestroyed:As,isDisturbed:_p,kIsDisturbed:Ts,isErrored:Sp,kIsErrored:xs,isReadable:Ls,kIsReadable:Xr,isClosed:gp,isDestroyed:Lt,isDuplexNodeStream:ap,isFinished:pp,isIterable:cp,isReadableNodeStream:Ot,isReadableEnded:hp,isReadableFinished:vs,isReadableErrored:yp,isNodeStream:Ae,isWritable:Is,isWritableNodeStream:vt,isWritableEnded:Os,isWritableFinished:dp,isWritableErrored:bp,isServerRequest:wp,isServerResponse:js,willEmitClose:mp}});var pe=S((Pw,Qr)=>{var Pe=de(),{AbortError:Ep,codes:Rp}=C(),{ERR_INVALID_ARG_TYPE:Ap,ERR_STREAM_PREMATURE_CLOSE:$s}=Rp,{kEmptyObject:qs,once:Ds}=te(),{validateAbortSignal:xp,validateFunction:Tp,validateObject:Op}=Xe(),{Promise:vp}=q(),{isClosed:Lp,isReadable:Ns,isReadableNodeStream:Yr,isReadableFinished:Ms,isReadableErrored:Ip,isWritable:Cs,isWritableNodeStream:Ws,isWritableFinished:Bs,isWritableErrored:kp,isNodeStream:jp,willEmitClose:Pp}=he();function $p(e){return e.setHeader&&typeof e.abort=="function"}var qp=()=>{};function Fs(e,t,r){var n,i;arguments.length===2?(r=t,t=qs):t==null?t=qs:Op(t,"options"),Tp(r,"callback"),xp(t.signal,"options.signal"),r=Ds(r);let o=(n=t.readable)!==null&&n!==void 0?n:Yr(e),s=(i=t.writable)!==null&&i!==void 0?i:Ws(e);if(!jp(e))throw new Ap("stream","Stream",e);let u=e._writableState,a=e._readableState,f=()=>{e.writable||p()},c=Pp(e)&&Yr(e)===o&&Ws(e)===s,d=Bs(e,!1),p=()=>{d=!0,e.destroyed&&(c=!1),!(c&&(!e.readable||o))&&(!o||l)&&r.call(e)},l=Ms(e,!1),h=()=>{l=!0,e.destroyed&&(c=!1),!(c&&(!e.writable||s))&&(!s||d)&&r.call(e)},w=E=>{r.call(e,E)},m=Lp(e),g=()=>{m=!0;let E=kp(e)||Ip(e);if(E&&typeof E!="boolean")return r.call(e,E);if(o&&!l&&Yr(e,!0)&&!Ms(e,!1))return r.call(e,new $s);if(s&&!d&&!Bs(e,!1))return r.call(e,new $s);r.call(e)},b=()=>{e.req.on("finish",p)};$p(e)?(e.on("complete",p),c||e.on("abort",g),e.req?b():e.on("request",b)):s&&!u&&(e.on("end",f),e.on("close",f)),!c&&typeof e.aborted=="boolean"&&e.on("aborted",g),e.on("end",h),e.on("finish",p),t.error!==!1&&e.on("error",w),e.on("close",g),m?Pe.nextTick(g):u!=null&&u.errorEmitted||a!=null&&a.errorEmitted?c||Pe.nextTick(g):(!o&&(!c||Ns(e))&&(d||Cs(e)===!1)||!s&&(!c||Cs(e))&&(l||Ns(e)===!1)||a&&e.req&&e.aborted)&&Pe.nextTick(g);let _=()=>{r=qp,e.removeListener("aborted",g),e.removeListener("complete",p),e.removeListener("abort",g),e.removeListener("request",b),e.req&&e.req.removeListener("finish",p),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("end",h),e.removeListener("error",w),e.removeListener("close",g)};if(t.signal&&!m){let E=()=>{let A=r;_(),A.call(e,new Ep(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Pe.nextTick(E);else{let A=r;r=Ds((...L)=>{t.signal.removeEventListener("abort",E),A.apply(e,L)}),t.signal.addEventListener("abort",E)}}return _}function Dp(e,t){return new vp((r,n)=>{Fs(e,t,i=>{i?n(i):r()})})}Qr.exports=Fs;Qr.exports.finished=Dp});var Xs=S(($w,tn)=>{"use strict";var Gs=globalThis.AbortController||Et().AbortController,{codes:{ERR_INVALID_ARG_TYPE:Ye,ERR_MISSING_ARGS:Np,ERR_OUT_OF_RANGE:Mp},AbortError:re}=C(),{validateAbortSignal:$e,validateInteger:Cp,validateObject:qe}=Xe(),Wp=q().Symbol("kWeak"),{finished:Bp}=pe(),{ArrayPrototypePush:Fp,MathFloor:Up,Number:Vp,NumberIsNaN:zp,Promise:Us,PromiseReject:Vs,PromisePrototypeThen:Gp,Symbol:Hs}=q(),It=Hs("kEmpty"),zs=Hs("kEof");function kt(e,t){if(typeof e!="function")throw new Ye("fn",["Function","AsyncFunction"],e);t!=null&&qe(t,"options"),t?.signal!=null&&$e(t.signal,"options.signal");let r=1;return t?.concurrency!=null&&(r=Up(t.concurrency)),Cp(r,"concurrency",1),async function*(){var i,o;let s=new Gs,u=this,a=[],f=s.signal,c={signal:f},d=()=>s.abort();t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted&&d(),t==null||(o=t.signal)===null||o===void 0||o.addEventListener("abort",d);let p,l,h=!1;function w(){h=!0}async function m(){try{for await(let _ of u){var g;if(h)return;if(f.aborted)throw new re;try{_=e(_,c)}catch(E){_=Vs(E)}_!==It&&(typeof((g=_)===null||g===void 0?void 0:g.catch)=="function"&&_.catch(w),a.push(_),p&&(p(),p=null),!h&&a.length&&a.length>=r&&await new Us(E=>{l=E}))}a.push(zs)}catch(_){let E=Vs(_);Gp(E,void 0,w),a.push(E)}finally{var b;h=!0,p&&(p(),p=null),t==null||(b=t.signal)===null||b===void 0||b.removeEventListener("abort",d)}}m();try{for(;;){for(;a.length>0;){let g=await a[0];if(g===zs)return;if(f.aborted)throw new re;g!==It&&(yield g),a.shift(),l&&(l(),l=null)}await new Us(g=>{p=g})}}finally{s.abort(),h=!0,l&&(l(),l=null)}}.call(this)}function Hp(e=void 0){return e!=null&&qe(e,"options"),e?.signal!=null&&$e(e.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new re({cause:e.signal.reason});yield[r++,i]}}.call(this)}async function Ks(e,t=void 0){for await(let r of en.call(this,e,t))return!0;return!1}async function Kp(e,t=void 0){if(typeof e!="function")throw new Ye("fn",["Function","AsyncFunction"],e);return!await Ks.call(this,async(...r)=>!await e(...r),t)}async function Jp(e,t){for await(let r of en.call(this,e,t))return r}async function Xp(e,t){if(typeof e!="function")throw new Ye("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i),It}for await(let n of kt.call(this,r,t));}function en(e,t){if(typeof e!="function")throw new Ye("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i)?n:It}return kt.call(this,r,t)}var Zr=class extends Np{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Yp(e,t,r){var n;if(typeof e!="function")throw new Ye("reducer",["Function","AsyncFunction"],e);r!=null&&qe(r,"options"),r?.signal!=null&&$e(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let f=new re(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Bp(this.destroy(f)),f}let o=new Gs,s=o.signal;if(r!=null&&r.signal){let f={once:!0,[Wp]:this};r.signal.addEventListener("abort",()=>o.abort(),f)}let u=!1;try{for await(let f of this){var a;if(u=!0,r!=null&&(a=r.signal)!==null&&a!==void 0&&a.aborted)throw new re;i?t=await e(t,f,{signal:s}):(t=f,i=!0)}if(!u&&!i)throw new Zr}finally{o.abort()}return t}async function Qp(e){e!=null&&qe(e,"options"),e?.signal!=null&&$e(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new re(void 0,{cause:e.signal.reason});Fp(t,n)}return t}function Zp(e,t){let r=kt.call(this,e,t);return async function*(){for await(let i of r)yield*i}.call(this)}function Js(e){if(e=Vp(e),zp(e))return 0;if(e<0)throw new Mp("number",">= 0",e);return e}function eb(e,t=void 0){return t!=null&&qe(t,"options"),t?.signal!=null&&$e(t.signal,"options.signal"),e=Js(e),async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new re;for await(let o of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new re;e--<=0&&(yield o)}}.call(this)}function tb(e,t=void 0){return t!=null&&qe(t,"options"),t?.signal!=null&&$e(t.signal,"options.signal"),e=Js(e),async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new re;for await(let o of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new re;if(e-- >0)yield o;else return}}.call(this)}tn.exports.streamReturningOperators={asIndexedPairs:Hp,drop:eb,filter:en,flatMap:Zp,map:kt,take:tb};tn.exports.promiseReturningOperators={every:Kp,forEach:Xp,reduce:Yp,toArray:Qp,some:Ks,find:Jp}});var xe=S((qw,il)=>{"use strict";var be=de(),{aggregateTwoErrors:rb,codes:{ERR_MULTIPLE_CALLBACK:nb},AbortError:ib}=C(),{Symbol:Zs}=q(),{kDestroyed:ob,isDestroyed:sb,isFinished:lb,isServerRequest:ub}=he(),el=Zs("kDestroy"),rn=Zs("kConstruct");function tl(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function fb(e,t){let r=this._readableState,n=this._writableState,i=n||r;return n&&n.destroyed||r&&r.destroyed?(typeof t=="function"&&t(),this):(tl(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?Ys(this,e,t):this.once(el,function(o){Ys(this,rb(o,e),t)}),this)}function Ys(e,t,r){let n=!1;function i(o){if(n)return;n=!0;let s=e._readableState,u=e._writableState;tl(o,u,s),u&&(u.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(o),o?be.nextTick(ab,e,o):be.nextTick(rl,e)}try{e._destroy(t||null,i)}catch(o){i(o)}}function ab(e,t){nn(e,t),rl(e)}function rl(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r&&r.emitClose||t&&t.emitClose)&&e.emit("close")}function nn(e,t){let r=e._readableState,n=e._writableState;n&&n.errorEmitted||r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function cb(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function on(e,t,r){let n=e._readableState,i=e._writableState;if(i&&i.destroyed||n&&n.destroyed)return this;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?be.nextTick(nn,e,t):nn(e,t))}function db(e,t){if(typeof e._construct!="function")return;let r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(rn,t),!(e.listenerCount(rn)>1)&&be.nextTick(hb,e)}function hb(e){let t=!1;function r(n){if(t){on(e,n??new nb);return}t=!0;let i=e._readableState,o=e._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?e.emit(el,n):n?on(e,n,!0):be.nextTick(pb,e)}try{e._construct(r)}catch(n){r(n)}}function pb(e){e.emit(rn)}function Qs(e){return e&&e.setHeader&&typeof e.abort=="function"}function nl(e){e.emit("close")}function bb(e,t){e.emit("error",t),be.nextTick(nl,e)}function yb(e,t){!e||sb(e)||(!t&&!lb(e)&&(t=new ib),ub(e)?(e.socket=null,e.destroy(t)):Qs(e)?e.abort():Qs(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?be.nextTick(bb,e,t):be.nextTick(nl,e),e.destroyed||(e[ob]=!0))}il.exports={construct:db,destroyer:yb,destroy:fb,undestroy:cb,errorOrDestroy:on}});var $t=S((Dw,sl)=>{"use strict";var{ArrayIsArray:gb,ObjectSetPrototypeOf:ol}=q(),{EventEmitter:jt}=require("events");function Pt(e){jt.call(this,e)}ol(Pt.prototype,jt.prototype);ol(Pt,jt);Pt.prototype.pipe=function(e,t){let r=this;function n(c){e.writable&&e.write(c)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",s),r.on("close",u));let o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function a(c){f(),jt.listenerCount(this,"error")===0&&this.emit("error",c)}sn(r,"error",a),sn(e,"error",a);function f(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",a),e.removeListener("error",a),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e};function sn(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):gb(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}sl.exports={Stream:Pt,prependListener:sn}});var Dt=S((Nw,qt)=>{"use strict";var{AbortError:wb,codes:mb}=C(),_b=pe(),{ERR_INVALID_ARG_TYPE:ll}=mb,Sb=(e,t)=>{if(typeof e!="object"||!("aborted"in e))throw new ll(t,"AbortSignal",e)};function Eb(e){return!!(e&&typeof e.pipe=="function")}qt.exports.addAbortSignal=function(t,r){if(Sb(t,"signal"),!Eb(r))throw new ll("stream","stream.Stream",r);return qt.exports.addAbortSignalNoValidate(t,r)};qt.exports.addAbortSignalNoValidate=function(e,t){if(typeof e!="object"||!("aborted"in e))return t;let r=()=>{t.destroy(new wb(void 0,{cause:e.reason}))};return e.aborted?r():(e.addEventListener("abort",r),_b(t,()=>e.removeEventListener("abort",r))),t}});var al=S((Cw,fl)=>{"use strict";var{StringPrototypeSlice:ul,SymbolIterator:Rb,TypedArrayPrototypeSet:Nt,Uint8Array:Ab}=q(),{Buffer:ln}=require("buffer"),{inspect:xb}=te();fl.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){let r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return ln.alloc(0);let r=ln.allocUnsafe(t>>>0),n=this.head,i=0;for(;n;)Nt(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(t,r){let n=this.head.data;if(t<n.length){let i=n.slice(0,t);return this.head.data=n.slice(t),i}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[Rb](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,i=0;do{let o=n.data;if(t>o.length)r+=o,t-=o.length;else{t===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=ul(o,0,t),this.head=n,n.data=ul(o,t));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(t){let r=ln.allocUnsafe(t),n=t,i=this.head,o=0;do{let s=i.data;if(t>s.length)Nt(r,s,n-t),t-=s.length;else{t===s.length?(Nt(r,s,n-t),++o,i.next?this.head=i.next:this.head=this.tail=null):(Nt(r,new Ab(s.buffer,s.byteOffset,t),n-t),this.head=i,i.data=s.slice(t));break}++o}while((i=i.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return xb(this,{...r,depth:0,customInspect:!1})}}});var Mt=S((Ww,dl)=>{"use strict";var{MathFloor:Tb,NumberIsInteger:Ob}=q(),{ERR_INVALID_ARG_VALUE:vb}=C().codes;function Lb(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function cl(e){return e?16:16*1024}function Ib(e,t,r,n){let i=Lb(t,n,r);if(i!=null){if(!Ob(i)||i<0){let o=n?`options.${r}`:"options.highWaterMark";throw new vb(o,i)}return Tb(i)}return cl(e.objectMode)}dl.exports={getHighWaterMark:Ib,getDefaultHighWaterMark:cl}});var un=S((Bw,yl)=>{"use strict";var hl=de(),{PromisePrototypeThen:kb,SymbolAsyncIterator:pl,SymbolIterator:bl}=q(),{Buffer:jb}=require("buffer"),{ERR_INVALID_ARG_TYPE:Pb,ERR_STREAM_NULL_VALUES:$b}=C().codes;function qb(e,t,r){let n;if(typeof t=="string"||t instanceof jb)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[pl])i=!0,n=t[pl]();else if(t&&t[bl])i=!1,n=t[bl]();else throw new Pb("iterable",["Iterable"],t);let o=new e({objectMode:!0,highWaterMark:1,...r}),s=!1;o._read=function(){s||(s=!0,a())},o._destroy=function(f,c){kb(u(f),()=>hl.nextTick(c,f),d=>hl.nextTick(c,d||f))};async function u(f){let c=f!=null,d=typeof n.throw=="function";if(c&&d){let{value:p,done:l}=await n.throw(f);if(await p,l)return}if(typeof n.return=="function"){let{value:p}=await n.return();await p}}async function a(){for(;;){try{let{value:f,done:c}=i?await n.next():n.next();if(c)o.push(null);else{let d=f&&typeof f.then=="function"?await f:f;if(d===null)throw s=!1,new $b;if(o.push(d))continue;s=!1}}catch(f){o.destroy(f)}break}}return o}yl.exports=qb});var Qe=S((Fw,Ll)=>{var Y=de(),{ArrayPrototypeIndexOf:Db,NumberIsInteger:Nb,NumberIsNaN:Mb,NumberParseInt:Cb,ObjectDefineProperties:ml,ObjectKeys:Wb,ObjectSetPrototypeOf:_l,Promise:Bb,SafeSet:Fb,SymbolAsyncIterator:Ub,Symbol:Vb}=q();Ll.exports=x;x.ReadableState=pn;var{EventEmitter:zb}=require("events"),{Stream:ye,prependListener:Gb}=$t(),{Buffer:fn}=require("buffer"),{addAbortSignal:Hb}=Dt(),Kb=pe(),O=te().debuglog("stream",e=>{O=e}),Jb=al(),Ne=xe(),{getHighWaterMark:Xb,getDefaultHighWaterMark:Yb}=Mt(),{aggregateTwoErrors:gl,codes:{ERR_INVALID_ARG_TYPE:Qb,ERR_METHOD_NOT_IMPLEMENTED:Zb,ERR_OUT_OF_RANGE:ey,ERR_STREAM_PUSH_AFTER_EOF:ty,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ry}}=C(),{validateObject:ny}=Xe(),Te=Vb("kPaused"),{StringDecoder:Sl}=require("string_decoder"),iy=un();_l(x.prototype,ye.prototype);_l(x,ye);var an=()=>{},{errorOrDestroy:De}=Ne;function pn(e,t,r){typeof r!="boolean"&&(r=t instanceof ne()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.readableObjectMode)),this.highWaterMark=e?Xb(this,e,"readableHighWaterMark",r):Yb(!1),this.buffer=new Jb,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Te]=null,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new Sl(e.encoding),this.encoding=e.encoding)}function x(e){if(!(this instanceof x))return new x(e);let t=this instanceof ne();this._readableState=new pn(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&Hb(e.signal,this)),ye.call(this,e),Ne.construct(this,()=>{this._readableState.needReadable&&Ct(this,this._readableState)})}x.prototype.destroy=Ne.destroy;x.prototype._undestroy=Ne.undestroy;x.prototype._destroy=function(e,t){t(e)};x.prototype[zb.captureRejectionSymbol]=function(e){this.destroy(e)};x.prototype.push=function(e,t){return El(this,e,t,!1)};x.prototype.unshift=function(e,t){return El(this,e,t,!0)};function El(e,t,r,n){O("readableAddChunk",t);let i=e._readableState,o;if(i.objectMode||(typeof t=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=fn.from(t,r).toString(i.encoding):(t=fn.from(t,r),r=""))):t instanceof fn?r="":ye._isUint8Array(t)?(t=ye._uint8ArrayToBuffer(t),r=""):t!=null&&(o=new Qb("chunk",["string","Buffer","Uint8Array"],t))),o)De(e,o);else if(t===null)i.reading=!1,ly(e,i);else if(i.objectMode||t&&t.length>0)if(n)if(i.endEmitted)De(e,new ry);else{if(i.destroyed||i.errored)return!1;cn(e,i,t,!0)}else if(i.ended)De(e,new ty);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?cn(e,i,t,!1):Ct(e,i)):cn(e,i,t,!1)}else n||(i.reading=!1,Ct(e,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function cn(e,t,r,n){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Wt(e)),Ct(e,t)}x.prototype.isPaused=function(){let e=this._readableState;return e[Te]===!0||e.flowing===!1};x.prototype.setEncoding=function(e){let t=new Sl(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=t.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var oy=1073741824;function sy(e){if(e>oy)throw new ey("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}function wl(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:Mb(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}x.prototype.read=function(e){O("read",e),e===void 0?e=NaN:Nb(e)||(e=Cb(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=sy(e)),e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return O("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?dn(this):Wt(this),null;if(e=wl(e,t),e===0&&t.ended)return t.length===0&&dn(this),null;let n=t.needReadable;if(O("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,O("length less than watermark",n)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)n=!1,O("reading, ended or constructing",n);else if(n){O("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(o){De(this,o)}t.sync=!1,t.reading||(e=wl(r,t))}let i;return e>0?i=Ol(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&dn(this)),i!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",i)),i};function ly(e,t){if(O("onEofChunk"),!t.ended){if(t.decoder){let r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Wt(e):(t.needReadable=!1,t.emittedReadable=!0,Rl(e))}}function Wt(e){let t=e._readableState;O("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(O("emitReadable",t.flowing),t.emittedReadable=!0,Y.nextTick(Rl,e))}function Rl(e){let t=e._readableState;O("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,xl(e)}function Ct(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,Y.nextTick(uy,e,t))}function uy(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){let r=t.length;if(O("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}x.prototype._read=function(e){throw new Zb("_read()")};x.prototype.pipe=function(e,t){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Fb(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),O("pipe count=%d opts=%j",n.pipes.length,t);let o=(!t||t.end!==!1)&&e!==Y.stdout&&e!==Y.stderr?u:m;n.endEmitted?Y.nextTick(o):r.once("end",o),e.on("unpipe",s);function s(g,b){O("onunpipe"),g===r&&b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,c())}function u(){O("onend"),e.end()}let a,f=!1;function c(){O("cleanup"),e.removeListener("close",h),e.removeListener("finish",w),a&&e.removeListener("drain",a),e.removeListener("error",l),e.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",m),r.removeListener("data",p),f=!0,a&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&a()}function d(){f||(n.pipes.length===1&&n.pipes[0]===e?(O("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(O("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),r.pause()),a||(a=fy(r,e),e.on("drain",a))}r.on("data",p);function p(g){O("ondata");let b=e.write(g);O("dest.write",b),b===!1&&d()}function l(g){if(O("onerror",g),m(),e.removeListener("error",l),e.listenerCount("error")===0){let b=e._writableState||e._readableState;b&&!b.errorEmitted?De(e,g):e.emit("error",g)}}Gb(e,"error",l);function h(){e.removeListener("finish",w),m()}e.once("close",h);function w(){O("onfinish"),e.removeListener("close",h),m()}e.once("finish",w);function m(){O("unpipe"),r.unpipe(e)}return e.emit("pipe",r),e.writableNeedDrain===!0?n.flowing&&d():n.flowing||(O("pipe resume"),r.resume()),e};function fy(e,t){return function(){let n=e._readableState;n.awaitDrainWriters===t?(O("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(O("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&e.listenerCount("data")&&e.resume()}}x.prototype.unpipe=function(e){let t=this._readableState,r={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){let i=t.pipes;t.pipes=[],this.pause();for(let o=0;o<i.length;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Db(t.pipes,e);return n===-1?this:(t.pipes.splice(n,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,r),this)};x.prototype.on=function(e,t){let r=ye.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,O("on readable",n.length,n.reading),n.length?Wt(this):n.reading||Y.nextTick(ay,this)),r};x.prototype.addListener=x.prototype.on;x.prototype.removeListener=function(e,t){let r=ye.prototype.removeListener.call(this,e,t);return e==="readable"&&Y.nextTick(Al,this),r};x.prototype.off=x.prototype.removeListener;x.prototype.removeAllListeners=function(e){let t=ye.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&Y.nextTick(Al,this),t};function Al(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[Te]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function ay(e){O("readable nexttick read 0"),e.read(0)}x.prototype.resume=function(){let e=this._readableState;return e.flowing||(O("resume"),e.flowing=!e.readableListening,cy(this,e)),e[Te]=!1,this};function cy(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Y.nextTick(dy,e,t))}function dy(e,t){O("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),xl(e),t.flowing&&!t.reading&&e.read(0)}x.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Te]=!0,this};function xl(e){let t=e._readableState;for(O("flow",t.flowing);t.flowing&&e.read()!==null;);}x.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",n=>{De(this,n)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=Wb(e);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof e[i]=="function"&&(this[i]=e[i].bind(e))}return this};x.prototype[Ub]=function(){return Tl(this)};x.prototype.iterator=function(e){return e!==void 0&&ny(e,"options"),Tl(this,e)};function Tl(e,t){typeof e.read!="function"&&(e=x.wrap(e,{objectMode:!0}));let r=hy(e,t);return r.stream=e,r}async function*hy(e,t){let r=an;function n(s){this===e?(r(),r=an):r=s}e.on("readable",n);let i,o=Kb(e,{writable:!1},s=>{i=s?gl(i,s):null,r(),r=an});try{for(;;){let s=e.destroyed?null:e.read();if(s!==null)yield s;else{if(i)throw i;if(i===null)return;await new Bb(n)}}}catch(s){throw i=gl(i,s),i}finally{(i||t?.destroyOnReturn!==!1)&&(i===void 0||e._readableState.autoDestroy)?Ne.destroyer(e,null):(e.off("readable",n),o())}}ml(x.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});ml(pn.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Te]!==!1},set(e){this[Te]=!!e}}});x._fromList=Ol;function Ol(e,t){if(t.length===0)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function dn(e){let t=e._readableState;O("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,Y.nextTick(py,t,e))}function py(e,t){if(O("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)Y.nextTick(by,t);else if(e.autoDestroy){let r=t._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&t.destroy()}}}function by(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}x.from=function(e,t){return iy(x,e,t)};var hn;function vl(){return hn===void 0&&(hn={}),hn}x.fromWeb=function(e,t){return vl().newStreamReadableFromReadableStream(e,t)};x.toWeb=function(e,t){return vl().newReadableStreamFromStreamReadable(e,t)};x.wrap=function(e,t){var r,n;return new x({objectMode:(r=(n=e.readableObjectMode)!==null&&n!==void 0?n:e.objectMode)!==null&&r!==void 0?r:!0,...t,destroy(i,o){Ne.destroyer(e,i),o(i)}}).wrap(e)}});var Sn=S((Uw,Bl)=>{var Oe=de(),{ArrayPrototypeSlice:jl,Error:yy,FunctionPrototypeSymbolHasInstance:Pl,ObjectDefineProperty:$l,ObjectDefineProperties:gy,ObjectSetPrototypeOf:ql,StringPrototypeToLowerCase:wy,Symbol:my,SymbolHasInstance:_y}=q();Bl.exports=P;P.WritableState=tt;var{EventEmitter:Sy}=require("events"),Ze=$t().Stream,{Buffer:Bt}=require("buffer"),Vt=xe(),{addAbortSignal:Ey}=Dt(),{getHighWaterMark:Ry,getDefaultHighWaterMark:Ay}=Mt(),{ERR_INVALID_ARG_TYPE:xy,ERR_METHOD_NOT_IMPLEMENTED:Ty,ERR_MULTIPLE_CALLBACK:Dl,ERR_STREAM_CANNOT_PIPE:Oy,ERR_STREAM_DESTROYED:et,ERR_STREAM_ALREADY_FINISHED:vy,ERR_STREAM_NULL_VALUES:Ly,ERR_STREAM_WRITE_AFTER_END:Iy,ERR_UNKNOWN_ENCODING:Nl}=C().codes,{errorOrDestroy:Me}=Vt;ql(P.prototype,Ze.prototype);ql(P,Ze);function gn(){}var Ce=my("kOnFinished");function tt(e,t,r){typeof r!="boolean"&&(r=t instanceof ne()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?Ry(this,e,"writableHighWaterMark",r):Ay(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(e&&e.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=jy.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Ut(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ce]=[]}function Ut(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}tt.prototype.getBuffer=function(){return jl(this.buffered,this.bufferedIndex)};$l(tt.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function P(e){let t=this instanceof ne();if(!t&&!Pl(P,this))return new P(e);this._writableState=new tt(e,this,t),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&Ey(e.signal,this)),Ze.call(this,e),Vt.construct(this,()=>{let r=this._writableState;r.writing||mn(this,r),_n(this,r)})}$l(P,_y,{__proto__:null,value:function(e){return Pl(this,e)?!0:this!==P?!1:e&&e._writableState instanceof tt}});P.prototype.pipe=function(){Me(this,new Oy)};function Ml(e,t,r,n){let i=e._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Bt.isEncoding(r))throw new Nl(r);typeof n!="function"&&(n=gn)}if(t===null)throw new Ly;if(!i.objectMode)if(typeof t=="string")i.decodeStrings!==!1&&(t=Bt.from(t,r),r="buffer");else if(t instanceof Bt)r="buffer";else if(Ze._isUint8Array(t))t=Ze._uint8ArrayToBuffer(t),r="buffer";else throw new xy("chunk",["string","Buffer","Uint8Array"],t);let o;return i.ending?o=new Iy:i.destroyed&&(o=new et("write")),o?(Oe.nextTick(n,o),Me(e,o,!0),o):(i.pendingcb++,ky(e,i,t,r,n))}P.prototype.write=function(e,t,r){return Ml(this,e,t,r)===!0};P.prototype.cork=function(){this._writableState.corked++};P.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||mn(this,e))};P.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=wy(t)),!Bt.isEncoding(t))throw new Nl(t);return this._writableState.defaultEncoding=t,this};function ky(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&n!=="buffer"&&(t.allBuffers=!1),t.allNoop&&i!==gn&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}function Il(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new et("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function kl(e,t,r,n){--t.pendingcb,n(r),wn(t),Me(e,r)}function jy(e,t){let r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Me(e,new Dl);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?Oe.nextTick(kl,e,r,t,i):kl(e,r,t,i)):(r.buffered.length>r.bufferedIndex&&mn(e,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:e,state:r},Oe.nextTick(Py,r.afterWriteTickInfo)):Cl(e,r,1,i))}function Py({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,Cl(e,t,r,n)}function Cl(e,t,r,n){for(!t.ending&&!e.destroyed&&t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&wn(t),_n(e,t)}function wn(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;let{chunk:o,callback:s}=e.buffered[i],u=e.objectMode?1:o.length;e.length-=u,s((t=e.errored)!==null&&t!==void 0?t:new et("write"))}let r=e[Ce].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=e.errored)!==null&&n!==void 0?n:new et("end"))}Ut(e)}function mn(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,o=r.length-n;if(!o)return;let s=n;if(t.bufferProcessing=!0,o>1&&e._writev){t.pendingcb-=o-1;let u=t.allNoop?gn:f=>{for(let c=s;c<r.length;++c)r[c].callback(f)},a=t.allNoop&&s===0?r:jl(r,s);a.allBuffers=t.allBuffers,Il(e,t,!0,t.length,a,"",u),Ut(t)}else{do{let{chunk:u,encoding:a,callback:f}=r[s];r[s++]=null;let c=i?1:u.length;Il(e,t,!1,c,u,a,f)}while(s<r.length&&!t.writing);s===r.length?Ut(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}P.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new Ty("_write()")};P.prototype._writev=null;P.prototype.end=function(e,t,r){let n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null);let i;if(e!=null){let o=Ml(this,e,t);o instanceof yy&&(i=o)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,_n(this,n,!0),n.ended=!0):n.finished?i=new vy("end"):n.destroyed&&(i=new et("end"))),typeof r=="function"&&(i||n.finished?Oe.nextTick(r,i):n[Ce].push(r)),this};function Ft(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function $y(e,t){let r=!1;function n(i){if(r){Me(e,i??Dl());return}if(r=!0,t.pendingcb--,i){let o=t[Ce].splice(0);for(let s=0;s<o.length;s++)o[s](i);Me(e,i,t.sync)}else Ft(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,Oe.nextTick(yn,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(i){n(i)}t.sync=!1}function qy(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.finalCalled=!0,$y(e,t)):(t.prefinished=!0,e.emit("prefinish")))}function _n(e,t,r){Ft(t)&&(qy(e,t),t.pendingcb===0&&(r?(t.pendingcb++,Oe.nextTick((n,i)=>{Ft(i)?yn(n,i):i.pendingcb--},e,t)):Ft(t)&&(t.pendingcb++,yn(e,t))))}function yn(e,t){t.pendingcb--,t.finished=!0;let r=t[Ce].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){let n=e._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&e.destroy()}}gy(P.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Dy=Vt.destroy;P.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Ce].length)&&Oe.nextTick(wn,r),Dy.call(this,e,t),this};P.prototype._undestroy=Vt.undestroy;P.prototype._destroy=function(e,t){t(e)};P.prototype[Sy.captureRejectionSymbol]=function(e){this.destroy(e)};var bn;function Wl(){return bn===void 0&&(bn={}),bn}P.fromWeb=function(e,t){return Wl().newStreamWritableFromWritableStream(e,t)};P.toWeb=function(e){return Wl().newWritableStreamFromStreamWritable(e)}});var Zl=S((Vw,Ql)=>{var En=de(),Ny=require("buffer"),{isReadable:My,isWritable:Cy,isIterable:Fl,isNodeStream:Wy,isReadableNodeStream:Ul,isWritableNodeStream:Vl,isDuplexNodeStream:By}=he(),zl=pe(),{AbortError:Yl,codes:{ERR_INVALID_ARG_TYPE:Fy,ERR_INVALID_RETURN_VALUE:Gl}}=C(),{destroyer:We}=xe(),Uy=ne(),Vy=Qe(),{createDeferredPromise:Hl}=te(),Kl=un(),Jl=globalThis.Blob||Ny.Blob,zy=typeof Jl<"u"?function(t){return t instanceof Jl}:function(t){return!1},Gy=globalThis.AbortController||Et().AbortController,{FunctionPrototypeCall:Xl}=q(),ve=class extends Uy{constructor(t){super(t),t?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};Ql.exports=function e(t,r){if(By(t))return t;if(Ul(t))return zt({readable:t});if(Vl(t))return zt({writable:t});if(Wy(t))return zt({writable:!1,readable:!1});if(typeof t=="function"){let{value:i,write:o,final:s,destroy:u}=Hy(t);if(Fl(i))return Kl(ve,i,{objectMode:!0,write:o,final:s,destroy:u});let a=i?.then;if(typeof a=="function"){let f,c=Xl(a,i,d=>{if(d!=null)throw new Gl("nully","body",d)},d=>{We(f,d)});return f=new ve({objectMode:!0,readable:!1,write:o,final(d){s(async()=>{try{await c,En.nextTick(d,null)}catch(p){En.nextTick(d,p)}})},destroy:u})}throw new Gl("Iterable, AsyncIterable or AsyncFunction",r,i)}if(zy(t))return e(t.arrayBuffer());if(Fl(t))return Kl(ve,t,{objectMode:!0,writable:!1});if(typeof t?.writable=="object"||typeof t?.readable=="object"){let i=t!=null&&t.readable?Ul(t?.readable)?t?.readable:e(t.readable):void 0,o=t!=null&&t.writable?Vl(t?.writable)?t?.writable:e(t.writable):void 0;return zt({readable:i,writable:o})}let n=t?.then;if(typeof n=="function"){let i;return Xl(n,t,o=>{o!=null&&i.push(o),i.push(null)},o=>{We(i,o)}),i=new ve({objectMode:!0,writable:!1,read(){}})}throw new Fy(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)};function Hy(e){let{promise:t,resolve:r}=Hl(),n=new Gy,i=n.signal;return{value:e(async function*(){for(;;){let s=t;t=null;let{chunk:u,done:a,cb:f}=await s;if(En.nextTick(f),a)return;if(i.aborted)throw new Yl(void 0,{cause:i.reason});({promise:t,resolve:r}=Hl()),yield u}}(),{signal:i}),write(s,u,a){let f=r;r=null,f({chunk:s,done:!1,cb:a})},final(s){let u=r;r=null,u({done:!0,cb:s})},destroy(s,u){n.abort(),u(s)}}}function zt(e){let t=e.readable&&typeof e.readable.read!="function"?Vy.wrap(e.readable):e.readable,r=e.writable,n=!!My(t),i=!!Cy(r),o,s,u,a,f;function c(d){let p=a;a=null,p?p(d):d?f.destroy(d):!n&&!i&&f.destroy()}return f=new ve({readableObjectMode:!!(t!=null&&t.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(zl(r,d=>{i=!1,d&&We(t,d),c(d)}),f._write=function(d,p,l){r.write(d,p)?l():o=l},f._final=function(d){r.end(),s=d},r.on("drain",function(){if(o){let d=o;o=null,d()}}),r.on("finish",function(){if(s){let d=s;s=null,d()}})),n&&(zl(t,d=>{n=!1,d&&We(t,d),c(d)}),t.on("readable",function(){if(u){let d=u;u=null,d()}}),t.on("end",function(){f.push(null)}),f._read=function(){for(;;){let d=t.read();if(d===null){u=f._read;return}if(!f.push(d))return}}),f._destroy=function(d,p){!d&&a!==null&&(d=new Yl),u=null,o=null,s=null,a===null?p(d):(a=p,We(r,d),We(t,d))},f}});var ne=S((zw,ru)=>{"use strict";var{ObjectDefineProperties:Ky,ObjectGetOwnPropertyDescriptor:ie,ObjectKeys:Jy,ObjectSetPrototypeOf:eu}=q();ru.exports=Q;var xn=Qe(),H=Sn();eu(Q.prototype,xn.prototype);eu(Q,xn);{let e=Jy(H.prototype);for(let t=0;t<e.length;t++){let r=e[t];Q.prototype[r]||(Q.prototype[r]=H.prototype[r])}}function Q(e){if(!(this instanceof Q))return new Q(e);xn.call(this,e),H.call(this,e),e?(this.allowHalfOpen=e.allowHalfOpen!==!1,e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Ky(Q.prototype,{writable:{__proto__:null,...ie(H.prototype,"writable")},writableHighWaterMark:{__proto__:null,...ie(H.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...ie(H.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...ie(H.prototype,"writableBuffer")},writableLength:{__proto__:null,...ie(H.prototype,"writableLength")},writableFinished:{__proto__:null,...ie(H.prototype,"writableFinished")},writableCorked:{__proto__:null,...ie(H.prototype,"writableCorked")},writableEnded:{__proto__:null,...ie(H.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...ie(H.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}});var Rn;function tu(){return Rn===void 0&&(Rn={}),Rn}Q.fromWeb=function(e,t){return tu().newStreamDuplexFromReadableWritablePair(e,t)};Q.toWeb=function(e){return tu().newReadableWritablePairFromDuplex(e)};var An;Q.from=function(e){return An||(An=Zl()),An(e,"body")}});var vn=S((Gw,iu)=>{"use strict";var{ObjectSetPrototypeOf:nu,Symbol:Xy}=q();iu.exports=oe;var{ERR_METHOD_NOT_IMPLEMENTED:Yy}=C().codes,On=ne(),{getHighWaterMark:Qy}=Mt();nu(oe.prototype,On.prototype);nu(oe,On);var rt=Xy("kCallback");function oe(e){if(!(this instanceof oe))return new oe(e);let t=e?Qy(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),On.call(this,e),this._readableState.sync=!1,this[rt]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Zy)}function Tn(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function Zy(){this._final!==Tn&&Tn.call(this)}oe.prototype._final=Tn;oe.prototype._transform=function(e,t,r){throw new Yy("_transform()")};oe.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(s,u)=>{if(s){r(s);return}u!=null&&this.push(u),i.ended||o===n.length||n.length<n.highWaterMark?r():this[rt]=r})};oe.prototype._read=function(){if(this[rt]){let e=this[rt];this[rt]=null,e()}}});var In=S((Hw,su)=>{"use strict";var{ObjectSetPrototypeOf:ou}=q();su.exports=Be;var Ln=vn();ou(Be.prototype,Ln.prototype);ou(Be,Ln);function Be(e){if(!(this instanceof Be))return new Be(e);Ln.call(this,e)}Be.prototype._transform=function(e,t,r){r(null,e)}});var Kt=S((Kw,hu)=>{var Gt=de(),{ArrayIsArray:eg,Promise:tg,SymbolAsyncIterator:rg}=q(),Ht=pe(),{once:ng}=te(),ig=xe(),lu=ne(),{aggregateTwoErrors:og,codes:{ERR_INVALID_ARG_TYPE:cu,ERR_INVALID_RETURN_VALUE:kn,ERR_MISSING_ARGS:sg,ERR_STREAM_DESTROYED:lg,ERR_STREAM_PREMATURE_CLOSE:ug},AbortError:fg}=C(),{validateFunction:ag,validateAbortSignal:cg}=Xe(),{isIterable:Fe,isReadable:jn,isReadableNodeStream:qn,isNodeStream:uu}=he(),dg=globalThis.AbortController||Et().AbortController,Pn,$n;function fu(e,t,r){let n=!1;e.on("close",()=>{n=!0});let i=Ht(e,{readable:t,writable:r},o=>{n=!o});return{destroy:o=>{n||(n=!0,ig.destroyer(e,o||new lg("pipe")))},cleanup:i}}function hg(e){return ag(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function pg(e){if(Fe(e))return e;if(qn(e))return bg(e);throw new cu("val",["Readable","Iterable","AsyncIterable"],e)}async function*bg(e){$n||($n=Qe()),yield*$n.prototype[rg].call(e)}async function au(e,t,r,{end:n}){let i,o=null,s=f=>{if(f&&(i=f),o){let c=o;o=null,c()}},u=()=>new tg((f,c)=>{i?c(i):o=()=>{i?c(i):f()}});t.on("drain",s);let a=Ht(t,{readable:!1},s);try{t.writableNeedDrain&&await u();for await(let f of e)t.write(f)||await u();n&&t.end(),await u(),r()}catch(f){r(i!==f?og(i,f):f)}finally{a(),t.off("drain",s)}}function yg(...e){return du(e,ng(hg(e)))}function du(e,t,r){if(e.length===1&&eg(e[0])&&(e=e[0]),e.length<2)throw new sg("streams");let n=new dg,i=n.signal,o=r?.signal,s=[];cg(o,"options.signal");function u(){l(new fg)}o?.addEventListener("abort",u);let a,f,c=[],d=0;function p(g){l(g,--d===0)}function l(g,b){if(g&&(!a||a.code==="ERR_STREAM_PREMATURE_CLOSE")&&(a=g),!(!a&&!b)){for(;c.length;)c.shift()(a);o?.removeEventListener("abort",u),n.abort(),b&&(a||s.forEach(_=>_()),Gt.nextTick(t,a,f))}}let h;for(let g=0;g<e.length;g++){let b=e[g],_=g<e.length-1,E=g>0,A=_||r?.end!==!1,L=g===e.length-1;if(uu(b)){let v=function(R){R&&R.name!=="AbortError"&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(R)};var m=v;if(A){let{destroy:R,cleanup:j}=fu(b,_,E);c.push(R),jn(b)&&L&&s.push(j)}b.on("error",v),jn(b)&&L&&s.push(()=>{b.removeListener("error",v)})}if(g===0)if(typeof b=="function"){if(h=b({signal:i}),!Fe(h))throw new kn("Iterable, AsyncIterable or Stream","source",h)}else Fe(b)||qn(b)?h=b:h=lu.from(b);else if(typeof b=="function")if(h=pg(h),h=b(h,{signal:i}),_){if(!Fe(h,!0))throw new kn("AsyncIterable",`transform[${g-1}]`,h)}else{var w;Pn||(Pn=In());let v=new Pn({objectMode:!0}),R=(w=h)===null||w===void 0?void 0:w.then;if(typeof R=="function")d++,R.call(h,I=>{f=I,I!=null&&v.write(I),A&&v.end(),Gt.nextTick(p)},I=>{v.destroy(I),Gt.nextTick(p,I)});else if(Fe(h,!0))d++,au(h,v,p,{end:A});else throw new kn("AsyncIterable or Promise","destination",h);h=v;let{destroy:j,cleanup:N}=fu(h,!1,!0);c.push(j),L&&s.push(N)}else if(uu(b)){if(qn(h)){d+=2;let v=gg(h,b,p,{end:A});jn(b)&&L&&s.push(v)}else if(Fe(h))d++,au(h,b,p,{end:A});else throw new cu("val",["Readable","Iterable","AsyncIterable"],h);h=b}else h=lu.from(b)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&Gt.nextTick(u),h}function gg(e,t,r,{end:n}){let i=!1;return t.on("close",()=>{i||r(new ug)}),e.pipe(t,{end:n}),n?e.once("end",()=>{i=!0,t.end()}):r(),Ht(e,{readable:!0,writable:!1},o=>{let s=e._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&s&&s.ended&&!s.errored&&!s.errorEmitted?e.once("end",r).once("error",r):r(o)}),Ht(t,{readable:!1,writable:!0},r)}hu.exports={pipelineImpl:du,pipeline:yg}});var wu=S((Jw,gu)=>{"use strict";var{pipeline:wg}=Kt(),Jt=ne(),{destroyer:mg}=xe(),{isNodeStream:_g,isReadable:pu,isWritable:bu}=he(),{AbortError:Sg,codes:{ERR_INVALID_ARG_VALUE:yu,ERR_MISSING_ARGS:Eg}}=C();gu.exports=function(...t){if(t.length===0)throw new Eg("streams");if(t.length===1)return Jt.from(t[0]);let r=[...t];if(typeof t[0]=="function"&&(t[0]=Jt.from(t[0])),typeof t[t.length-1]=="function"){let l=t.length-1;t[l]=Jt.from(t[l])}for(let l=0;l<t.length;++l)if(_g(t[l])){if(l<t.length-1&&!pu(t[l]))throw new yu(`streams[${l}]`,r[l],"must be readable");if(l>0&&!bu(t[l]))throw new yu(`streams[${l}]`,r[l],"must be writable")}let n,i,o,s,u;function a(l){let h=s;s=null,h?h(l):l?u.destroy(l):!p&&!d&&u.destroy()}let f=t[0],c=wg(t,a),d=!!bu(f),p=!!pu(c);return u=new Jt({writableObjectMode:!!(f!=null&&f.writableObjectMode),readableObjectMode:!!(c!=null&&c.writableObjectMode),writable:d,readable:p}),d&&(u._write=function(l,h,w){f.write(l,h)?w():n=w},u._final=function(l){f.end(),i=l},f.on("drain",function(){if(n){let l=n;n=null,l()}}),c.on("finish",function(){if(i){let l=i;i=null,l()}})),p&&(c.on("readable",function(){if(o){let l=o;o=null,l()}}),c.on("end",function(){u.push(null)}),u._read=function(){for(;;){let l=c.read();if(l===null){o=u._read;return}if(!u.push(l))return}}),u._destroy=function(l,h){!l&&s!==null&&(l=new Sg),o=null,n=null,i=null,s===null?h(l):(s=h,mg(c,l))},u}});var Dn=S((Xw,mu)=>{"use strict";var{ArrayPrototypePop:Rg,Promise:Ag}=q(),{isIterable:xg,isNodeStream:Tg}=he(),{pipelineImpl:Og}=Kt(),{finished:vg}=pe();function Lg(...e){return new Ag((t,r)=>{let n,i,o=e[e.length-1];if(o&&typeof o=="object"&&!Tg(o)&&!xg(o)){let s=Rg(e);n=s.signal,i=s.end}Og(e,(s,u)=>{s?r(s):t(u)},{signal:n,end:i})})}mu.exports={finished:vg,pipeline:Lg}});var Lu=S((Yw,vu)=>{var{Buffer:Ig}=require("buffer"),{ObjectDefineProperty:se,ObjectKeys:Eu,ReflectApply:Ru}=q(),{promisify:{custom:Au}}=te(),{streamReturningOperators:_u,promiseReturningOperators:Su}=Xs(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:xu}}=C(),kg=wu(),{pipeline:Tu}=Kt(),{destroyer:jg}=xe(),Ou=pe(),Nn=Dn(),Mn=he(),$=vu.exports=$t().Stream;$.isDisturbed=Mn.isDisturbed;$.isErrored=Mn.isErrored;$.isReadable=Mn.isReadable;$.Readable=Qe();for(let e of Eu(_u)){let r=function(...n){if(new.target)throw xu();return $.Readable.from(Ru(t,this,n))};$g=r;let t=_u[e];se(r,"name",{__proto__:null,value:t.name}),se(r,"length",{__proto__:null,value:t.length}),se($.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var $g;for(let e of Eu(Su)){let r=function(...i){if(new.target)throw xu();return Ru(t,this,i)};$g=r;let t=Su[e];se(r,"name",{__proto__:null,value:t.name}),se(r,"length",{__proto__:null,value:t.length}),se($.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var $g;$.Writable=Sn();$.Duplex=ne();$.Transform=vn();$.PassThrough=In();$.pipeline=Tu;var{addAbortSignal:Pg}=Dt();$.addAbortSignal=Pg;$.finished=Ou;$.destroy=jg;$.compose=kg;se($,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Nn}});se(Tu,Au,{__proto__:null,enumerable:!0,get(){return Nn.pipeline}});se(Ou,Au,{__proto__:null,enumerable:!0,get(){return Nn.finished}});$.Stream=$;$._isUint8Array=function(t){return t instanceof Uint8Array};$._uint8ArrayToBuffer=function(t){return Ig.from(t.buffer,t.byteOffset,t.byteLength)}});var Iu=S((Qw,T)=>{"use strict";var D=require("stream");if(D&&process.env.READABLE_STREAM==="disable"){let e=D.promises;T.exports._uint8ArrayToBuffer=D._uint8ArrayToBuffer,T.exports._isUint8Array=D._isUint8Array,T.exports.isDisturbed=D.isDisturbed,T.exports.isErrored=D.isErrored,T.exports.isReadable=D.isReadable,T.exports.Readable=D.Readable,T.exports.Writable=D.Writable,T.exports.Duplex=D.Duplex,T.exports.Transform=D.Transform,T.exports.PassThrough=D.PassThrough,T.exports.addAbortSignal=D.addAbortSignal,T.exports.finished=D.finished,T.exports.destroy=D.destroy,T.exports.pipeline=D.pipeline,T.exports.compose=D.compose,Object.defineProperty(D,"promises",{configurable:!0,enumerable:!0,get(){return e}}),T.exports.Stream=D.Stream}else{let e=Lu(),t=Dn(),r=e.Readable.destroy;T.exports=e.Readable,T.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,T.exports._isUint8Array=e._isUint8Array,T.exports.isDisturbed=e.isDisturbed,T.exports.isErrored=e.isErrored,T.exports.isReadable=e.isReadable,T.exports.Readable=e.Readable,T.exports.Writable=e.Writable,T.exports.Duplex=e.Duplex,T.exports.Transform=e.Transform,T.exports.PassThrough=e.PassThrough,T.exports.addAbortSignal=e.addAbortSignal,T.exports.finished=e.finished,T.exports.destroy=e.destroy,T.exports.destroy=r,T.exports.pipeline=e.pipeline,T.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),T.exports.Stream=e.Stream}T.exports.default=T.exports});var Pu=S((Zw,ju)=>{"use strict";var ku=Symbol.for("pino.metadata"),qg=Jo(),{Duplex:Dg}=Iu();ju.exports=function(t,r={}){let n=r.parse==="lines",i=typeof r.parseLine=="function"?r.parseLine:JSON.parse,o=r.close||Ng,s=qg(function(a){let f;try{f=i(a)}catch(c){this.emit("unknown",a,c);return}if(f===null){this.emit("unknown",a,"Null value ignored");return}return typeof f!="object"&&(f={data:f,time:Date.now()}),s[ku]&&(s.lastTime=f.time,s.lastLevel=f.level,s.lastObj=f),n?a:f},{autoDestroy:!0});s._destroy=function(a,f){let c=o(a,f);c&&typeof c.then=="function"&&c.then(f,f)},r.metadata!==!1&&(s[ku]=!0,s.lastTime=0,s.lastLevel=0,s.lastObj=null);let u=t(s);if(u&&typeof u.catch=="function")u.catch(a=>{s.destroy(a)}),u=null;else if(r.enablePipelining&&u)return Dg.from({writable:s,readable:u,objectMode:!0});return s};function Ng(e,t){process.nextTick(t,e)}});var qu=S((em,$u)=>{var Mg=new Function("modulePath","return import(modulePath)");function Cg(e){return typeof __non_webpack__require__=="function"?__non_webpack__require__(e):require(e)}$u.exports={realImport:Mg,realRequire:Cg}});var Nu=S((tm,Du)=>{"use strict";var{realImport:Wg,realRequire:nt}=qu();Du.exports=Bg;async function Bg(e){let t;try{let r="file://"+e;r.endsWith(".ts")||r.endsWith(".cts")?(process[Symbol.for("ts-node.register.instance")]?nt("ts-node/register"):process.env&&process.env.TS_NODE_DEV&&nt("ts-node-dev"),t=nt(decodeURIComponent(e))):t=await Wg(r)}catch(r){if(r.code==="ENOTDIR"||r.code==="ERR_MODULE_NOT_FOUND")t=nt(e);else if(r.code===void 0)t=nt(decodeURIComponent(e));else throw r}if(typeof t=="object"&&(t=t.default),typeof t=="object"&&(t=t.default),typeof t!="function")throw Error("exported worker is not a function");return t}});var Fg=zo(),Ug=Pu(),Vg=Nu();module.exports=async function({targets:e,levels:t,dedupe:r}){return e=await Promise.all(e.map(async i=>{let s=await(await Vg(i.target))(i.options);return{level:i.level,stream:s}})),Ug(n,{parse:"lines",metadata:!0,close(i,o){let s=0;for(let a of e)s++,a.stream.on("close",u),a.stream.end();function u(){--s===0&&o(i)}}});function n(i){let o=Fg.multistream(e,{levels:t,dedupe:r});i.on("data",function(s){let{lastTime:u,lastMsg:a,lastObj:f,lastLevel:c}=this;o.lastLevel=c,o.lastTime=u,o.lastMsg=a,o.lastObj=f,o.write(s+`
`)})}};
